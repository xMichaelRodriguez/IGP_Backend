(this["webpackJsonpuvs-app"]=this["webpackJsonpuvs-app"]||[]).push([[0],{163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(32),s=a.n(c),i=a(5),r=a(8),o=a(6),l=a(13),d=a(22),j=a(3),u=(a(72),a(20)),b=a.n(u),m=a(9),h=a.n(m),O=a(14),p="https://uvs-app.herokuapp.com/api",x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(p,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(p,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===a?fetch(n,{method:a,headers:{"x-token":c.toString()}}):fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)})},v={uiOpenChat:"[UI] Open Chat",uiCloseChat:"[UI] Close Chat",authFinishChecking:"[AUTH] Finish Checking Login State",authStartLogin:"[AUTH] Start Login",authLogin:"[AUTH] Logged",authStartTokenRenew:"[AUTH] Start Token Renew",authLogout:"[AUTH] Auth Logout",setError:"[ERROR] Set Error Message",removeError:"[ERROR] Remove Error Message",storyLoaded:"[STORY]  Story Loaded",storyStartAddNew:"[STORY] Start Add New",storyAddNew:"[STORY] Add New",storyClearActive:"[story] Clear Active story",storyUpdated:"[story] story Updated",storyDeleted:"[story] story Deleted",storySetActive:"[story] story set active",noticeLoaded:"[notice]  Story Loaded",noticeStartAddNew:"[notice] Start Add New",noticeAddNew:"[notice] Add New",noticeClearActive:"[notice] Clear Active notice",noticeUpdated:"[notice] notice Updated",noticeDeleted:"[notice] notice Deleted",noticeSetActive:"[notice] notice set active"},g=function(){return function(e){localStorage.clear(),e(N())}},N=function(){return{type:v.authLogout}},y=function(){return{type:v.authFinishChecking}},w=function(e){return{type:v.setError,payload:e}},_=function(){return{type:v.removeError}},k=function(e){return{type:v.authLogin,payload:e}},C=a(1),S=function(){var e=Object(i.c)((function(e){return e.error})).msgError,t=Object(i.c)((function(e){return e.auth})).uid,a=Object(i.b)(),c=Object(o.g)(),s=Object(n.useState)(!0),r=Object(l.a)(s,2),u=r[0],m=r[1],p=Object(n.useState)(!0),f=Object(l.a)(p,2),v=f[0],g=f[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(l.a)(t,2),c=a[0],s=a[1];return[c,function(e){var t=e.target;s(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},t.name,t.value)))},function(){s(e)}]}({email:"admin@gmail.com",password:"thePassword123"}),y=Object(l.a)(N,2),S=y[0],E=y[1],A=S.email,z=S.password;Object(n.useEffect)((function(){if(t)return c.push("/")}),[t,c]);var I=function(){return b.a.isEmail(A)?z.length<5?(g(!1),!1):(m(!0),g(!0),!0):(m(!1),!1)};return Object(C.jsx)("div",{className:"container   login",children:Object(C.jsxs)("div",{className:"form-row shadow login__box",children:[Object(C.jsx)("div",{className:"col-md-12 mb-3 mt-1",children:Object(C.jsx)("h2",{children:"login"})}),Object(C.jsx)("div",{className:"col-md-12 mb-3",children:Object(C.jsxs)("div",{className:"form-group ".concat(!u&&"has-danger","  "),children:[Object(C.jsx)("input",{type:"text",className:"form-control ".concat(!u&&"is-invalid"," "),name:"email",value:A,onChange:E,placeholder:"email"}),!u&&Object(C.jsx)("div",{className:"invalid-feedback",children:"Invalid Email"})]})}),Object(C.jsx)("div",{className:"col-md-12 mb-3",children:Object(C.jsxs)("div",{className:"form-group ".concat(!v&&"has-danger","  "),children:[Object(C.jsx)("input",{type:"password",name:"password",value:z,onChange:E,className:"form-control ".concat(!v&&"is-invalid"," "),placeholder:"password"}),!v&&Object(C.jsx)("div",{className:"invalid-feedback",children:"Invalid Password"})]})}),!!e&&Object(C.jsx)("h3",{children:Object(C.jsx)("span",{className:"badge badge-danger font-weight-normal",children:e})}),Object(C.jsx)("div",{className:"col-md-12 mb-3 ",children:Object(C.jsx)("button",{className:"btn btn-info btn-block",onClick:function(){I()&&a(function(e,t){return function(){var a=Object(O.a)(h.a.mark((function a(n){var c,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,x("auth",{email:e,password:t},"POST");case 2:return c=a.sent,a.next=5,c.json();case 5:(s=a.sent).ok?(localStorage.setItem("token",s.token),localStorage.setItem("token-initDate",(new Date).getTime()),n(k({uid:s.uid,name:s.name})),n(_())):n(w(s.msg));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(A,z))},children:"Iniciar Sesi\xf3n"})})]})})},E=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"",children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{exact:!0,path:"/auth/login",component:S}),Object(C.jsx)(o.a,{to:"/auth/login"})]})})})})},A=a(15),z=a.n(A),I=(a(23),a(7)),L=a.n(I),T=function(e){return{type:v.storyAddNew,payload:e}},F=function(e){var t=e.page,a=void 0===t?1:t;return function(){var e=Object(O.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("stories/?page=".concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(delete c.ok,t(D(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e){return{type:v.storyLoaded,payload:e}},P=function(e){return{type:v.storyUpdated,payload:e}},U=function(){return{type:v.storyDeleted}},q=function(){return{type:v.storyClearActive}},B=function(){var e=Object(i.c)((function(e){return e.story.stories})).storyArr,t=Object(i.b)();return Object(n.useEffect)((function(){t(F({}))}),[t]),Object(C.jsx)("div",{className:"list-group animate__animated   animate__zoomIn",children:0!==e.length&&e.map((function(e){return Object(C.jsxs)("span",{className:"list-group-item flex-column align-items-start ",children:[Object(C.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(C.jsx)("h5",{className:"mb-1",children:e.title}),Object(C.jsx)("small",{children:z()(e.date).calendar()})]}),Object(C.jsx)("p",{className:"mb-1 px-1 text-break",children:"".concat(e.body.substr(0,100)," ...")})]},e.id)}))})},M=a(11),R=function(e){return{type:v.noticeAddNew,payload:e}},H=function(e){var t=e.page,a=void 0===t?1:t;return function(){var e=Object(O.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("noticies/?page=".concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(delete c.ok,t(K(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},K=function(e){return{type:v.noticeLoaded,payload:e}},V=function(e){return{type:v.noticeUpdated,payload:e}},G=function(){return{type:v.noticeDeleted}},Y=function(){return{type:v.noticeClearActive}},J=function(){var e=Object(i.c)((function(e){return e.notice.noticies})).noticeArr,t=Object(i.b)();return Object(n.useEffect)((function(){t(H({}))}),[t]),Object(C.jsx)("div",{children:!!e&&Object(C.jsx)("div",{className:"list-group animate__animated   animate__zoomIn",children:e.map((function(e){return Object(C.jsxs)("span",{className:"list-group-item  flex-column align-items-start ",children:[Object(C.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(C.jsx)("h5",{className:"mb-1",children:e.title}),Object(C.jsx)("small",{children:z()(e.date).calendar()})]}),Object(C.jsx)("p",{className:"mb-1",children:"".concat(e.body.substr(0,100)," ...")}),Object(C.jsx)("small",{children:"Donec id elit non mi porta."})]},e.id)}))})})},Q=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{style:{backgroundColor:"#F5F5F5"},className:"p-3 mb-3 card ",children:[Object(C.jsxs)("div",{className:"d-flex justify-content-between animate__animated   animate__fadeIn",children:[Object(C.jsx)("h4",{children:"Nuevas Historias"}),Object(C.jsx)(r.b,{to:"/stories",children:Object(C.jsxs)("h4",{children:["Todas las historias ",Object(C.jsx)(M.b,{})," "]})})]}),Object(C.jsx)("hr",{}),Object(C.jsx)(B,{})]}),Object(C.jsxs)("section",{style:{backgroundColor:"#F5F5F5"},className:"p-3 mb-5 card  ",children:[Object(C.jsxs)("div",{className:"d-flex justify-content-between animate__animated   animate__fadeIn ",children:[Object(C.jsx)("h4",{children:"Nuevas Noticias"}),Object(C.jsx)(r.b,{to:"/noticies",children:Object(C.jsxs)("h4",{className:"",children:["Todas las noticias ",Object(C.jsx)(M.b,{})]})})]}),Object(C.jsx)("hr",{}),Object(C.jsx)(J,{})]})]})},W=function(e){var t=e.title,a=e.body,n=e.date,c=e.id,s=Object(o.h)(),l=Object(i.b)(),d={title:t,body:a,date:n,id:c};return Object(C.jsx)("div",{className:"card mt-2  animate__animated   animate__zoomIn",children:Object(C.jsxs)("div",{className:"card-body",onDoubleClick:function(){s.pathname.includes("/profile")&&l(function(e){return{type:v.noticeSetActive,payload:e}}(d))},children:[Object(C.jsx)("div",{className:"card-title",children:Object(C.jsx)("h3",{children:t})}),Object(C.jsx)("div",{className:"card-subtitle text-muted mt-2",children:Object(C.jsx)("h6",{children:z()(n).calendar()})}),Object(C.jsx)("div",{className:"card-text",children:Object(C.jsx)("p",{children:"".concat(a.substr(0,100),"...")})}),!s.pathname.includes("/profile")&&Object(C.jsx)("div",{className:"card-link mt-2",children:Object(C.jsx)(r.b,{className:"btn btn-link",to:"/noticies/".concat(c),children:"Leer Mas..."})})]})})},X=function(){var e=Object(i.c)((function(e){return e.notice.noticies})),t=e.noticeArr,a=e.total_page,c=Object(i.b)(),s=Object(n.useState)(1),r=Object(l.a)(s,2),o=r[0],d=r[1];Object(n.useEffect)((function(){c(H({}))}),[c]);return Object(n.useEffect)((function(){c(H({page:o}))}),[c,o]),Object(C.jsx)(C.Fragment,{children:t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("nav",{"aria-label":"Page navigation example",children:Object(C.jsxs)("ul",{className:"pagination justify-content-end animate__animated   animate__fadeIn",children:[Object(C.jsx)("li",{className:"page-item ".concat(1===o?"disabled hand":"active"),onClick:function(){d(o>a?o-1:1)},children:Object(C.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:"Anterior"})}),Object(C.jsx)("li",{className:"page-item ".concat(o===a?"disabled hand":"active"),onClick:function(){d(o<a?o+1:a)},children:Object(C.jsx)("span",{className:"page-link ",style:{cursor:"pointer"},children:"Siguiente"})})]})}),Object(C.jsx)("div",{className:"card-columns",children:t.map((function(e){return Object(C.jsx)(W,Object(j.a)({},e),e.id)}))})]}):Object(C.jsx)("h1",{children:"hola"})})},Z=function(){var e=Object(o.i)().noticeId,t=Object(n.useState)({}),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){Object(O.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("noticies/".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:(n=t.sent).ok&&(delete n.ok,s(n.noticies));case 7:case"end":return t.stop()}}),t)})))()}),[e]),c!=={}?Object(C.jsxs)("div",{className:"card animate__animated   animate__zoomIn",children:[Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("div",{className:"card-title d-flex justify-content-between  animate__animated   animate__zoomIn",children:[Object(C.jsx)("h1",{children:c.title}),Object(C.jsx)("h6",{className:"text-muted",children:z()(c.date).calendar()})]}),Object(C.jsx)("p",{className:"card-text text-justify animate__animated   animate__zoomIn",style:{fontSize:"20px"},children:c.body})]}),Object(C.jsx)("div",{className:"card-footer animate__animated   animate__zoomIn",children:Object(C.jsxs)(r.b,{className:"btn btn-info btn-lg",to:"/noticies",children:[Object(C.jsx)(M.a,{size:"1.5rem"})," Volver"]})})]}):Object(C.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"spinner-grow",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})]})},$=function(){var e=Object(O.a)(h.a.mark((function e(t){var a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.transparencia.gob.sv/api/v1/institutions.json",e.next=3,fetch("https://www.transparencia.gob.sv/api/v1/institutions.json");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,c=n.map((function(e){return Object(j.a)({},e)})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t=Object(n.useState)({data:[],loading:!0}),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){$().then((function(e){s({data:e,loading:!1})}))}),[e]),c},te=function(e){var t=e.name,a=e.acronym,n=e.avatar_file_name,c=(e.twitter_url,e.officer_email),s=e.officer_name,i=(e.youtube_url,e.avatar_file_url),r=(e.website_url,Object(o.g)());return Object(C.jsxs)("div",{className:"card mt-2 animate__animated   animate__zoomIn",children:[Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("div",{className:"card-title",children:Object(C.jsx)("h3",{className:"text-info btn-link",style:{cursor:"pointer"},onClick:function(){return r.push("/organizations/".concat(a))},children:a})}),Object(C.jsx)("div",{className:"card-subtitle mb-2",children:Object(C.jsx)("span",{children:t})}),Object(C.jsx)("div",{className:"card-text",style:{fontSize:"14px"},children:Object(C.jsxs)("ul",{className:"list-group",style:{listStyle:"none"},children:[Object(C.jsxs)("li",{className:"mb-2",children:[Object(C.jsx)(M.c,{className:"text-info"})," ",Object(C.jsxs)("span",{className:"font-weight-bolder",children:["Oficial de informaci\xf3n:",s]})]}),Object(C.jsxs)("li",{className:"mb-2",children:[Object(C.jsx)(M.f,{className:"text-info"})," ",Object(C.jsx)("span",{className:"font-weight-bolder",children:c})]})]})})]}),Object(C.jsx)("img",{className:"card-img-bottom ",style:{height:"180px"},src:i.includes("missing")?"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg":"https://www.transparencia.gob.sv/".concat(i),alt:n})]})},ae=function(){var e=ee(),t=e.data,a=e.loading;return Object(C.jsxs)(C.Fragment,{children:[a&&Object(C.jsx)("h1",{children:Object(C.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"spinner-grow",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})]})}),Object(C.jsx)("div",{className:"card-columns ",children:t.map((function(e){return(e.acronym.includes("CONNA")||e.acronym.includes("MINEDUCYT")||e.acronym.includes("PDDH")||e.acronym.includes("ISNA"))&&Object(C.jsx)(te,Object(j.a)({},e),e.id)}))})]})},ne=(a(41),a(10)),ce=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).name;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark primary mb-3 container-fluid",children:[Object(C.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(C.jsx)("img",{src:"https://i.imgur.com/WNKowqR.jpg",className:"rounded",width:"70",height:"70",alt:"UVS"})}),Object(C.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{className:"navbar-toggler-icon"})}),Object(C.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:[Object(C.jsxs)("ul",{className:"navbar-nav mr-auto ml-md",children:[Object(C.jsx)("li",{className:"nav-item active",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/",children:"Home"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/noticies",children:"Noticias"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/stories",children:"Historias de vida"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/organizations",children:"Organizaciones"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"learning-about-violence",children:"Aprendiendo sobre la violencia"})})})]}),Object(C.jsx)("ul",{className:"navbar-nav ml-auto ",children:t?Object(C.jsxs)("li",{className:"nav-item dropleft",children:[Object(C.jsx)("button",{className:"btn btn-secondary btn-lg dropdown-toggle ml-2 mb-2",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t}),Object(C.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(C.jsxs)(r.b,{className:"dropdown-item",to:"/profile",children:[Object(C.jsx)(ne.n,{})," Perfil"]}),Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){return e(g())},children:[Object(C.jsx)(ne.h,{})," Cerrar sesi\xf3n"]})]})]}):Object(C.jsx)("li",{className:"nav-item ",children:Object(C.jsx)(r.b,{to:"/auth/login",className:"btn btn-secondary btn-lg",children:"Login"})})})]})]})})},se=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"learning about violencez"})})},ie=function(e){var t=e.title,a=e.body,n=e.date,c=e.id,s=Object(o.h)(),l=Object(i.b)(),d={title:t,body:a,date:n,id:c};return Object(C.jsx)("div",{className:"card mt-2 animate__animated   animate__zoomIn",children:Object(C.jsxs)("div",{className:"card-body",onDoubleClick:function(){s.pathname.includes("/profile")&&l(function(e){return{type:v.storySetActive,payload:e}}(d))},children:[Object(C.jsx)("div",{className:"card-title",children:Object(C.jsx)("h3",{children:t})}),Object(C.jsx)("div",{className:"card-subtitle text-muted mt-2",children:Object(C.jsx)("h6",{children:z()(n).calendar()})}),Object(C.jsx)("div",{className:"card-text",children:Object(C.jsx)("p",{children:"".concat(a.substr(0,100),"...")})}),!s.pathname.includes("/profile")&&Object(C.jsx)("div",{className:"card-link mt-2",children:Object(C.jsx)(r.b,{className:"btn btn-link",to:"/stories/".concat(c),children:"Leer Mas..."})})]})})},re=function(){var e=Object(i.c)((function(e){return e.story.stories})),t=e.storyArr,a=e.total_page,c=Object(i.b)(),s=Object(n.useState)(1),r=Object(l.a)(s,2),o=r[0],d=r[1];Object(n.useEffect)((function(){c(F({}))}),[c]);return Object(n.useEffect)((function(){c(F({page:o}))}),[c,o]),t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("nav",{"aria-label":"Page navigation example mb-3",children:Object(C.jsxs)("ul",{className:"pagination justify-content-end animate__animated   animate__fadeIn",children:[Object(C.jsx)("li",{className:"page-item ".concat(1===o?"disabled hand":"active"),onClick:function(){d(o>a?o-1:1)},children:Object(C.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:"Anterior"})}),Object(C.jsx)("li",{className:"page-item ".concat(o===a?"disabled hand":"active"),onClick:function(){d(o<a?o+1:a)},children:Object(C.jsx)("span",{className:"page-link ",style:{cursor:"pointer"},children:"Siguiente"})})]})}),Object(C.jsx)("div",{className:"card-columns mt-3",children:t.map((function(e){return Object(C.jsx)(ie,Object(j.a)({},e),e.id)}))})]}):Object(C.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"spinner-border",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})]})},oe=function(e){e.history;var t=Object(o.i)().storyId,a=Object(n.useState)({}),c=Object(l.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){Object(O.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("stories/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok&&(delete n.ok,i(n.stories));case 7:case"end":return e.stop()}}),e)})))()}),[t]),s==={}?Object(C.jsxs)("div",{className:"d-flex justify-content-center m-auto",children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"spinner-grow",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(C.jsxs)("div",{className:"card p-3 mb-5   animate__animated   animate__zoomIn",children:[Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("div",{className:"card-title d-flex justify-content-between   animate__animated   animate__zoomIn",children:[Object(C.jsx)("h1",{children:s.title}),Object(C.jsx)("h6",{className:"text-muted",children:z()(s.date).calendar()})]}),Object(C.jsx)("p",{className:"card-text text-justify  animate__animated   animate__zoomIn",style:{fontSize:"20px"},children:s.body})]}),Object(C.jsx)("div",{className:"card-footer  animate__animated   animate__zoomIn",children:Object(C.jsxs)(r.b,{className:"btn btn-info btn-lg",to:"/stories",children:[Object(C.jsx)(M.a,{size:"1.5rem"})," Volver"]})})]})},le=function(){return Object(C.jsx)("div",{className:"d-flex justify-content-center primary footer ",children:Object(C.jsx)("strong",{className:"m-auto",children:"\xa92021 Todos los derechos reservados UVS "})})},de=a(34),je=a.n(de),ue=function(e){var t=[{text:"\xbfQuieres saber cu\xe1les son tus derechos fundamentales?",handler:e.actionProvider.handleDerechos,id:1},{text:"\xbfQuieres saber que organizaciones protegen tus derechos?",handler:e.actionProvider.handleOrganizations,id:2}].map((function(e){return Object(C.jsx)("blockquote",{className:"blockquote primary rounded p-2 cursor shadow-sm",onClick:e.handler,children:Object(C.jsxs)("p",{className:"m-auto",children:[Object(C.jsx)(ne.a,{})," ",e.text]})},e.id)}));return Object(C.jsx)("div",{className:"d-flex  align-items-start flex-wrap container-sm",style:{marginRight:"auto",padding:5},children:t})},be=function(e){var t=e.options.map((function(e){return Object(C.jsx)("li",{className:"link-list-item mb-2 shadow px-3 bg-secondary",children:Object(C.jsxs)("blockquote",{class:"blockquote text-center highlight",children:[Object(C.jsxs)("p",{class:"mb-1",children:[Object(C.jsx)(M.e,{})," ",e.title]}),Object(C.jsx)("footer",{class:"blockquote-footer",children:Object(C.jsx)("span",{className:"Source Title",children:e.text})})]})},e.id)}));return Object(C.jsx)("ul",{className:"list-group mb-5",children:t})},me=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.transparencia.gob.sv/api/v1/institutions.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(C.jsx)("ul",{className:"list-group mb-5",children:a!==[]?a.map((function(e){return Object(C.jsx)(C.Fragment,{children:(e.acronym.includes("CONNA")||e.acronym.includes("ISNA")||e.acronym.includes("PDDH")||e.acronym.includes("MINEDUCYT"))&&Object(C.jsx)("li",{className:"a-list-item mb-2 shadow px-3 bg-secondary",children:Object(C.jsxs)("blockquote",{className:"blockquote text-center highlight",children:[Object(C.jsxs)("div",{className:"mb-1",children:[Object(C.jsx)("div",{className:"font-weight-bold",children:e.avatar_file_url.includes("missing")?Object(C.jsx)("img",{className:"img-fluid w-50 h-50",alt:"not found",src:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg"}):Object(C.jsx)("img",{className:"img-fluid w-50 h-50",src:"https://www.transparencia.gob.sv/".concat(e.avatar_file_url),alt:"".concat(e.avatar_file_name)})}),Object(C.jsx)("hr",{}),Object(C.jsxs)("ul",{className:"list-group list-group-flush",style:{listStyle:"none"},children:[Object(C.jsx)("li",{className:"mb-2",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(M.h,{}),Object(C.jsxs)("span",{className:"font-weight-bold",children:["Encargado/a:"," "]}),e.officer_name]})}),Object(C.jsxs)("li",{className:"mb-2",children:[Object(C.jsx)(M.h,{}),Object(C.jsx)("span",{className:"font-weight-bold",children:" Sitio web: "}),Object(C.jsx)("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",children:e.website_url})]}),Object(C.jsxs)("li",{className:"mb-2 text-center",children:[Object(C.jsx)(M.h,{})," ",Object(C.jsx)("span",{className:"font-weight-bold",children:"Redes"}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-4",children:e.twitter_url&&!e.twitter_url.includes(",")?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("a",{href:e.twitter_url,target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)(ne.l,{size:"1.5rem"})})}):Object(C.jsx)("span",{children:"Sin Twitter"})}),Object(C.jsx)("div",{className:"col-md-4",children:e.facebook_url&&!e.facebook_url.includes(",")?Object(C.jsx)("a",{href:e.facebook_url,target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)(ne.d,{size:"1.5rem"})}):Object(C.jsx)("span",{children:"Sin Facebook"})}),Object(C.jsx)("div",{className:"col-md-4",children:e.youtube_url&&!e.youtube_url.includes(",")?Object(C.jsx)("a",{href:e.youtube_url,className:"bg-red",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)(ne.o,{size:"1.5rem",className:"text-danger"})}):Object(C.jsx)("span",{children:"Sin Youtube"})})]})]})]})]}),Object(C.jsx)("footer",{className:"blockquote-footer",children:Object(C.jsxs)("span",{className:"Source Title",children:[Object(C.jsx)("span",{className:"font-weight-bold",children:"correo:"})," ",e.officer_email]})})]})},e.id)})})):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{class:"spinner-border text-info",role:"status",children:Object(C.jsx)("span",{class:"sr-only",children:"Loading..."})}),Object(C.jsx)("span",{children:"Cargando contenido..."})]})})},he={botName:"UvsBot",initialMessages:[Object(de.createChatBotMessage)("Hola soy UvsBot, estoy aqui para ayudar. Que quieres aprender?",{widget:"LearningOptions"})],widgets:[{widgetName:"LearningOptions",widgetFunc:function(e){return Object(C.jsx)(ue,Object(j.a)({},e))}},{widgetName:"Derechos",widgetFunc:function(e){return Object(C.jsx)(be,Object(j.a)({},e))},props:{options:[{title:"Derecho a la vida",text:"El derecho a la vida es un derecho universal, es decir que le corresponde a todo ser humano. Es un derecho necesario para poder concretizar todos los dem\xe1s derechos universales. El derecho a la vida significa tener la oportunidad de vivir nuestra propia vida.",id:1},{title:"Derecho a la identidad ",text:"El derecho a la identidad permite que ni\xf1as y ni\xf1os tengan un nombre y una nacionalidad desde su nacimiento. Adem\xe1s, es la puerta a sus otros derechos como el acceso a servicios de salud, educaci\xf3n y protecci\xf3n",id:2},{title:"Derecho a la vida",text:"El derecho a la vida es un derecho universal, es decir que le corresponde a todo ser humano. El derecho a la vida significa tener la oportunidad de vivir nuestra propia vida. ... Si no hay vida, no tiene sentido que existan los dem\xe1s derechos fundamentales.",id:3},{title:"Derecho a la igualdad ",text:"Este derecho significa que todo ser humano debe ser reconocido como un igual ante la ley y disfrutar de todos sus derechos, sin discriminaci\xf3n por motivo de nacionalidad, raza o creencias",id:4},{title:"Derecho a no ser discriminado",text:"Es el derecho de todos los seres humanos a ser iguales en dignidad, a ser tratados con respeto y consideraci\xf3n y a participar sobre bases iguales en cualquier \xe1rea de la vida econ\xf3mica, social, pol\xedtica, cultural o civil.",id:5}]}},{widgetName:"Organizaciones",widgetFunc:function(e){return Object(C.jsx)(me,Object(j.a)({},e))},props:{options:[{title:"Derecho a la vida",text:"El derecho a la vida es un derecho universal, es decir que le corresponde a todo ser humano. Es un derecho necesario para poder concretizar todos los dem\xe1s derechos universales. El derecho a la vida significa tener la oportunidad de vivir nuestra propia vida.",id:1}]}}],customComponents:{header:function(){return Object(C.jsx)("div",{className:"d-flex justify-content-center title-break",style:{backgroundColor:"#6a1576",padding:"5px",borderRadius:"3px",color:"white",fontSize:"18px",height:70},children:Object(C.jsxs)("div",{className:"m-auto",children:[Object(C.jsx)(ne.m,{className:"ml-2 mr-2",size:"1.5rem"}),Object(C.jsx)("span",{className:"font-weight-bold ",children:"Conversando con UvsBot"})]})})},state:{gist:"Active"},botAvatar:function(e){return Object(C.jsx)("div",{className:"bg-info text-white",style:{height:50,width:37,marginRight:10,borderRadius:"50px"},children:Object(C.jsx)(ne.m,{className:" mr-3 ml-1 mr-1"})})},userAvatar:function(e){return Object(C.jsx)("div",{children:Object(C.jsx)(ne.n,{className:"px-1 ml-2",size:"2.3rem"})})}},customStyles:{botMessageBox:{backgroundColor:"#6a1576",borderRadius:"10px"},chatButton:{backgroundColor:"#6a1576",borderRadius:"10px"}}},Oe=a(35),pe=a(36),xe=function(){function e(t,a){Object(Oe.a)(this,e),this.actionProvider=t,this.state=a}return Object(pe.a)(e,[{key:"parse",value:function(e){var t=e.toLowerCase();(t.includes("hola")||t.includes("holaaaa")||t.includes("alguien")||t.includes("alguien en casa")||t.length<1)&&this.actionProvider.greet(),t.includes("no")&&this.actionProvider.messageNeged(),t.includes("si")&&this.actionProvider.messageSuccess(),t.includes("que tal")&&this.actionProvider.queTalMessage(),t.includes("derechos")&&this.actionProvider.handleDerechos(),t.includes("organizaciones")&&this.actionProvider.handleOrganizations()}}]),e}(),fe=a(25),ve=function(){function e(t,a,n){var c=this;Object(Oe.a)(this,e),this.handleDerechos=function(){var e=c.createChatBotMessage("Fant\xe1stico, tengo los siguientes recursos para ti sobre derechos",{widget:"Derechos"});c.updateChatbotState(e)},this.handleOrganizations=function(){var e=c.createChatBotMessage("Fant\xe1stico, tengo los siguientes recursos para ti sobre las Organizaciones",{widget:"Organizaciones"});c.updateChatbotState(e)},this.createChatBotMessage=t,this.setState=a,this.createClientMessage=n}return Object(pe.a)(e,[{key:"greet",value:function(){var e=this.createChatBotMessage("Hola, Amigo. Necesitas algo?");this.updateChatbotState(e)}},{key:"queTalMessage",value:function(){var e=this.createChatBotMessage("bien, con ganas de chatear contigo, amigo :)");this.updateChatbotState(e)}},{key:"messageNeged",value:function(){var e=this.createChatBotMessage("ok, que tengas un lindo dia :)");this.updateChatbotState(e)}},{key:"messageSuccess",value:function(){var e=this.createChatBotMessage("Que quieres aprender?",{widget:"LearningOptions"});this.updateChatbotState(e)}},{key:"updateChatbotState",value:function(e){this.setState((function(t){return Object(j.a)(Object(j.a)({},t),{},{messages:[].concat(Object(fe.a)(t.messages),[e])})}))}}]),e}(),ge=function(){var e=Object(o.i)().organization_acronym,t=ee(),a=t.data,n=t.loading,c=a&&a.find((function(t){return t.acronym===e}));return Object(C.jsx)(C.Fragment,{children:n?Object(C.jsx)("h1",{children:Object(C.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"spinner-grow",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})]})}):Object(C.jsxs)("div",{className:"card px-5 mb-5 container animate__animated   animate__zoomIn",children:[Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsx)("img",{className:"card-img-top img-thumbnail text-center",style:{height:"400px",width:"450px"},src:c.avatar_file_url.includes("missing")?"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg":"https://www.transparencia.gob.sv/".concat(c.avatar_file_url),alt:c.avatar_file_name})}),Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("div",{className:"card-title",children:Object(C.jsx)("h1",{children:c.name})}),Object(C.jsx)("div",{className:"card-subtitle",children:Object(C.jsx)("p",{className:"font-weight-bolder",children:c.acronym})}),Object(C.jsxs)("div",{className:"card-text",children:[Object(C.jsxs)("h4",{children:[Object(C.jsx)(M.j,{className:"text-info"})," Oficial de informaci\xf3n: ",c.officer_name]}),Object(C.jsxs)("h4",{className:"text-muted mt-2 mb-3",children:[Object(C.jsx)(M.g,{className:"text-info"})," ",c.officer_email]}),c.website_url&&Object(C.jsxs)("h4",{className:"text-muted mt-2 mb-3",children:[Object(C.jsx)(ne.e,{className:"text-info"})," ",c.website_url]})]}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-6 mb-3",children:Object(C.jsx)("div",{className:"card-text",children:Object(C.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:Object(C.jsx)("li",{children:Object(C.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.twitter_url.includes(",")?c.twitter_url.split(",").map((function(e){return Object(C.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(C.jsxs)("strong",{children:[Object(C.jsx)(ne.k,{})," ",e]})})})):Object(C.jsx)("li",{children:Object(C.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.twitter_url&&window.open(c.twitter_url)},children:""!==c.twitter_username?Object(C.jsxs)("p",{children:[Object(C.jsx)(ne.k,{className:"text-primary"})," ",c.twitter_username]}):Object(C.jsx)("p",{children:"Sin Twitter"})})})})})})})}),Object(C.jsx)("div",{className:"col-md-6 mb-3",children:Object(C.jsx)("div",{className:"card-text",children:Object(C.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:Object(C.jsx)("li",{children:Object(C.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.facebook_url.includes(",")?c.facebook_url.split(",").map((function(e){return Object(C.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(C.jsxs)("strong",{children:[Object(C.jsx)(ne.c,{})," ",e]})})})):Object(C.jsx)("li",{children:Object(C.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.facebook_url&&window.open(c.facebook_url)},children:""!==c.facebook_username?Object(C.jsxs)("p",{children:[Object(C.jsx)(ne.c,{className:"text-danger"})," ",c.Facebook_username]}):Object(C.jsx)("p",{children:"Sin Facebook"})})})})})})})}),Object(C.jsx)("div",{className:"col-md-6",children:Object(C.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.youtube_url.includes(",")?c.youtube_url.split(",").map((function(e){return Object(C.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(C.jsxs)("strong",{children:[Object(C.jsx)(ne.o,{className:"text-danger"})," ",e]})})})):Object(C.jsx)("li",{children:Object(C.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.youtube_url&&window.open(c.youtube_url)},children:""!==c.youtube_username?Object(C.jsxs)("p",{children:[Object(C.jsx)(ne.o,{className:"text-danger"})," ",c.youtube_username]}):Object(C.jsx)("p",{children:"Sin Youtube"})})})})}),Object(C.jsx)("div",{className:"col-md-6",children:Object(C.jsxs)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){window.open("https://www.transparencia.gob.sv".concat(c.administrative_document_file_url))},children:[Object(C.jsx)(M.j,{className:"text-info"})," ",Object(C.jsx)("span",{children:"URL del archivo del documento administrativo"})]})})]}),Object(C.jsx)("div",{className:"card-link mt-3",children:Object(C.jsxs)(r.b,{className:"btn btn-outline-info",to:"/organizations",children:[Object(C.jsx)(M.a,{}),Object(C.jsx)("span",{children:"Volver"})]})})]})]})})},Ne=function(){var e=Object(i.c)((function(e){return e.UI})).ChatOpen,t=Object(i.b)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ce,{}),Object(C.jsxs)("div",{className:"container-fluid px-3 mb-3 animate__animated   animate__zoomIn",children:[Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{exact:!0,path:"/noticies/:noticeId",component:Z}),Object(C.jsx)(o.b,{path:"/noticies",component:X}),Object(C.jsx)(o.b,{exact:!0,path:"/stories/:storyId",component:oe}),Object(C.jsx)(o.b,{path:"/stories",component:re}),Object(C.jsx)(o.b,{exact:!0,path:"/organizations/:organization_acronym",component:ge}),Object(C.jsx)(o.b,{path:"/organizations",component:ae}),Object(C.jsx)(o.b,{path:"./learning-about-violence",component:se}),Object(C.jsx)(o.b,{exact:!0,path:"/",component:Q})]}),Object(C.jsx)("div",{className:"positions",children:e&&Object(C.jsx)("div",{className:"mb-5 animate__animated ".concat(!1===e?"animate__fadeInDown":" animate__fadeInUp"),children:Object(C.jsx)(je.a,{config:he,actionProvider:ve,messageParser:xe})})})]}),Object(C.jsx)("button",{className:"btn primary mt-2 rounded-circle cursor chat shadow animate__animated animate__rubberBand mb-3",onClick:function(){t(e?{type:v.uiCloseChat}:{type:v.uiOpenChat})},children:Object(C.jsx)(M.i,{size:"2rem"})}),Object(C.jsx)(le,{})]})},ye=a(37),we=function(e){var t=e.isAuthenticated,a=e.render,n=Object(ye.a)(e,["isAuthenticated","render"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return t?Object(C.jsx)(a,Object(j.a)({},e)):Object(C.jsx)(o.a,{to:"/"})}}))},_e=(a(59),{title:"",body:""}),ke=function(){var e=Object(o.g)(),t=Object(i.c)((function(e){return e.error})).msgError,a=Object(i.c)((function(e){return e.notice})).activeNotice,c=Object(i.b)(),s=Object(n.useState)(_e),r=Object(l.a)(s,2),u=r[0],m=r[1],p=u.title,x=u.body;Object(n.useEffect)((function(){m(a||_e)}),[a,m]);var v=function(e){var t=e.target;m(Object(j.a)(Object(j.a)({},u),{},Object(d.a)({},t.name,t.value)))},g=function(){return b.a.isEmpty(p)?(c(w("Titulo requiredo")),!1):b.a.isLength(p,{min:6})?b.a.isEmpty(x)?(c(w("Cuerpo de la historia requerido")),!1):!!b.a.isLength(x,{min:50,max:2e3})||(c(w("Cuerpo debe conenter almenos 50 caracteres y maximo 2000")),!1):(c(w("Minimo 6 caracteres")),!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-link font-weight-bolder animate__animated animate__fadeIn",style:{fontSize:"15px"},onClick:function(){e.push("/profile/noticies"),c(Y())},children:"\u2039 Volver"}),Object(C.jsx)("form",{className:"mb-3 shadow-p p-4 mb-5 animate__animated animate__zoomIn",onSubmit:function(e){var t;e.preventDefault(),g()&&(a?(c((t=u,function(){var e=Object(O.a)(h.a.mark((function e(a){var n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L.a.fire({title:"Actualizando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),n=Object(j.a)(Object(j.a)({},t),{},{date:z()()}),e.next=5,f("noticies/editNotice/".concat(t.id),n,"PUT");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(a(V(s.noticies)),a(Y()),L.a.close(),L.a.fire("Historia Actualizado",t.title,"success")):(L.a.close(),L.a.fire("Error",s.msg,"error")),console.log(s.ok),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),L.a.close(),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),m(_e)):(c(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L.a.fire({title:"Guardando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),n=Object(j.a)(Object(j.a)({},e),{},{date:z()()}),t.next=5,f("noticies/newNotice",n,"POST");case 5:return c=t.sent,t.next=8,c.json();case 8:t.sent.ok&&(a(R(n)),L.a.close(),L.a.fire("Guardado!!","La noticia:".concat(e.title," ha sido guardada"),"success")),a(_()),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),L.a.close();case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(u)),m(_e)))},children:Object(C.jsxs)("fieldset",{children:[Object(C.jsx)("legend",{className:"font-weight-bold",children:a?"Editar Notica":"Nueva Noticia"}),Object(C.jsxs)("div",{className:"form-group ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"has-danger"),children:[Object(C.jsx)("label",{htmlFor:"title",className:"form-label mt-4 font-weight-bold",children:"Title"}),Object(C.jsx)("input",{type:"text",className:"form-control ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"is-invalid"),id:"title",value:p,name:"title",onChange:v,"aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(C.jsx)("span",{className:"invalid-feedback",children:(t.includes("Titulo")||t.includes("Minimo"))&&t})]}),Object(C.jsxs)("div",{className:"form-group ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"has-danger"),children:[Object(C.jsx)("label",{htmlFor:"noticebody",className:"form-label mt-4 font-weight-bold",children:"Cuerpo de la noticia"}),Object(C.jsx)("textarea",{type:"text",className:"form-control ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"is-invalid"),id:"noticebody",value:x,name:"body",onChange:v,placeholder:"notica...",rows:"5"}),Object(C.jsx)("span",{className:"invalid-feedback",children:(t.includes("Cuerpo")||t.includes("almenos"))&&t})]}),Object(C.jsx)("div",{className:"mb-3",children:Object(C.jsxs)("button",{type:"submit",className:"btn btn-info btn-lg  ",children:[Object(C.jsx)(ne.g,{size:"1.5rem",className:"mr-1"})," ",a?"publicar cambios":"publicar"]})})]})})]})},Ce=a.p+"static/media/undraw_empty_xct9.c8301e2a.svg",Se=function(){return Object(C.jsx)("img",{src:Ce,className:"img-fluid w-50",alt:Ce.toString()})},Ee=function(){var e=Object(o.h)(),t=Object(o.g)(),a=Object(i.b)(),c=Object(i.c)((function(e){return e.notice})).activeNotice,s=Object(i.c)((function(e){return e.story})).activeStory;Object(n.useEffect)((function(){e.pathname.includes("noticies")?e.pathname.includes("stories")||a(q()):a(Y())}),[e,a]);return Object(C.jsxs)("div",{className:"btn-group animate__animated   animate__zoomIn",style:{position:"fixed",left:"20px",bottom:"80px"},role:"group","aria-label":"Basic example",children:[Object(C.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){c&&e.pathname.includes("noticies")&&a(function(){var e=Object(O.a)(h.a.mark((function e(t,a){var n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().notice.activeNotice.id,e.prev=1,L.a.fire({title:"Eliminando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),e.next=5,f("noticies/deleteNotice/".concat(n),{},"DELETE");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(t(G()),t(H({})),L.a.close(),L.a.fire("Noticia  Eliminada","","success")):(L.a.close(),L.a.fire("Error",s.msg,"error")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),L.a.close(),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()),s&&e.pathname.includes("stories")&&a(function(){var e=Object(O.a)(h.a.mark((function e(t,a){var n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().story.activeStory.id,e.prev=1,L.a.fire({title:"Eliminando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),e.next=5,f("stories/".concat(n),{},"DELETE");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(t(U()),t(F({})),L.a.close(),L.a.fire("Historia Eliminada","","success")):(L.a.close(),L.a.fire("Error",s.msg,"error")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),L.a.close(),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(C.jsx)(ne.j,{}),Object(C.jsx)("span",{children:" Borrar"})]}),Object(C.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.pathname.includes("stories")?t.push("/profile/manage-story"):e.pathname.includes("noticies")&&t.push("/profile/manage-notice")},children:[Object(C.jsx)("span",{children:"Editar "}),Object(C.jsx)(ne.b,{})]}),Object(C.jsxs)("button",{type:"button",className:"btn btn-info",onClick:function(){e.pathname.includes("/noticies")?a(Y()):e.pathname.includes("/stories")&&a(q())},children:[Object(C.jsx)("span",{children:"Cancelar "}),Object(C.jsx)(ne.i,{})]})]})},Ae=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.notice.noticies})),a=t.noticeArr,c=t.total_page,s=Object(i.c)((function(e){return e.notice})).activeNotice,o=Object(n.useState)(1),d=Object(l.a)(o,2),u=d[0],b=d[1];Object(n.useEffect)((function(){e(H({}))}),[e]);return Object(n.useEffect)((function(){e(H({page:u}))}),[e,u]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(r.b,{to:"/profile/manage-notice",className:"btn btn-info animate__animated animate__fadeIn",children:[Object(C.jsx)(ne.f,{})," Nueva Noticia"]}),Object(C.jsx)("hr",{}),a?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("nav",{"aria-label":"Page navigation example ",children:Object(C.jsxs)("ul",{className:"pagination justify-content-end animate__animated animate__fadeIn",children:[Object(C.jsx)("li",{className:"page-item ".concat(1===u?"disabled hand":"active"),onClick:function(){b(u>c?u-1:1)},children:Object(C.jsxs)("span",{className:"page-link",style:{cursor:"pointer"},children:[Object(C.jsx)(M.d,{}),"Anterior"]})}),Object(C.jsx)("li",{className:"page-item ".concat(u===c?"disabled hand ":"active"),onClick:function(){b(u<c?u+1:c)},children:Object(C.jsxs)("span",{className:"page-link ",style:{cursor:"pointer"},children:["Siguiente ",Object(C.jsx)(M.e,{})]})})]})}),Object(C.jsx)("div",{className:"card-columns",children:a.map((function(e){return Object(C.jsx)(W,Object(j.a)({},e),e.id)}))})]}):Object(C.jsx)(Se,{}),!!s&&Object(C.jsx)(Ee,{})]})},ze={title:"",body:""},Ie=function(){var e=Object(o.g)(),t=Object(i.c)((function(e){return e.error})).msgError,a=Object(i.c)((function(e){return e.story})).activeStory,c=Object(i.b)(),s=Object(n.useState)(ze),r=Object(l.a)(s,2),u=r[0],m=r[1],p=u.title,x=u.body;Object(n.useEffect)((function(){m(a||ze)}),[a,m]);var v=function(e){var t=e.target;m(Object(j.a)(Object(j.a)({},u),{},Object(d.a)({},t.name,t.value)))},g=function(){return b.a.isEmpty(p)?(c(w("Titulo requiredo")),!1):b.a.isLength(p,{min:6})?b.a.isEmpty(x)?(c(w("Cuerpo de la historia requerido")),!1):!!b.a.isLength(x,{min:50,max:2e3})||(c(w("el cuerpo debe conenter almenos 50 caracteres y maximo 2000")),!1):(c(w("Minimo 6 caracteres")),!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-link font-weight-bolder animate__animated animate__fadeIn",style:{fontSize:"15px"},onClick:function(){e.push("/profile/stories")},children:"\u2039 Volver"}),Object(C.jsx)("form",{className:"shadow-p px-5 animate__animated animate__zoomIn",children:Object(C.jsxs)("fieldset",{className:"mb-2",children:[Object(C.jsx)("legend",{className:"py-3 font-weight-bold",children:a?"Editar Historia":"Nueva Historia"}),Object(C.jsxs)("div",{className:"form-group py-3 ",children:[Object(C.jsx)("label",{htmlFor:"exampleFormControlInput1 ",className:"font-weight-bold",children:"Titulo"}),Object(C.jsx)("input",{type:"text",className:"form-control",placeholder:"Titulo",name:"title",value:p,onChange:v})]}),Object(C.jsxs)("div",{className:"form-group  py-3",children:[Object(C.jsx)("label",{htmlFor:"exampleFormControlInput1 ",className:"font-weight-bold",children:"Cuerpo"}),Object(C.jsx)("textarea",{className:"form-control mb-3",rows:"5",placeholder:"todo empezo en..",name:"body",value:x,onChange:v})]}),Object(C.jsx)("div",{className:"py-4",children:Object(C.jsxs)("button",{className:"btn btn-info btn-lg w-25  d-flex justify-content-around ",type:"button",onClick:function(){var e;g()&&(a?(m(ze),c((e=u,function(){var t=Object(O.a)(h.a.mark((function t(a){var n,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L.a.fire({title:"Actualizando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),n=Object(j.a)(Object(j.a)({},e),{},{date:z()()}),t.next=5,f("stories/".concat(e.id),n,"PUT");case 5:return c=t.sent,t.next=8,c.json();case 8:(s=t.sent).ok?(a(P(e)),a(q()),L.a.close(),L.a.fire("Historia Actualizado",e.title,"success")):(L.a.close(),L.a.fire("Error",s.msg,"error")),a(_()),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),L.a.close(),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()))):(c(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L.a.fire({title:"Guardando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){L.a.showLoading()}}),n=Object(j.a)(Object(j.a)({},e),{},{date:z()()}),t.next=5,f("stories/new",n,"POST");case 5:return c=t.sent,t.next=8,c.json();case 8:t.sent.ok&&(a(T(n)),L.a.close(),L.a.fire("Guardado!!","La historia:".concat(n.title," ha sido guardada"),"success"),a(_())),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),L.a.close();case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(u)),m(ze)))},children:[Object(C.jsx)(ne.g,{size:"1.5rem",className:"mr-1"})," ",a?"publicar cambios":"publicar"]})}),!!t&&Object(C.jsx)("div",{className:"container py-2",children:Object(C.jsx)("div",{className:"alert alert-danger ",role:"alert",children:Object(C.jsx)("span",{className:"  font-weight-normal",children:t})})})]})})]})},Le=function(){var e=Object(i.b)(),t=Object(o.g)(),a=Object(i.c)((function(e){return e.story.stories})).storyArr,c=Object(i.c)((function(e){return e.story})).activeStory,s=Object(i.c)((function(e){return e.story.stories})).total_page,r=Object(n.useState)(1),d=Object(l.a)(r,2),u=d[0],b=d[1];Object(n.useEffect)((function(){e(F({}))}),[e]);return Object(n.useEffect)((function(){e(F({page:u}))}),[e,u]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("button",{className:"btn btn-info mb-3  animate__animated animate__fadeIn",onClick:function(){t.push("/profile/manage-story")},children:[Object(C.jsx)(M.k,{size:"1.5rem"})," \xa0 Nueva historia"]}),Object(C.jsx)("hr",{}),a&&0!==a.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("nav",{"aria-label":"Page navigation example",children:Object(C.jsxs)("ul",{className:"pagination justify-content-end animate__animated animate__fadeIn",children:[Object(C.jsx)("li",{className:"page-item ".concat(1===u?"disabled hand":"active"),onClick:function(){b(u>s?u-1:1)},children:Object(C.jsxs)("span",{className:"page-link",style:{cursor:"pointer"},children:[Object(C.jsx)(M.d,{}),"Anterior"]})}),Object(C.jsx)("li",{className:"page-item ".concat(u===s?"disabled hand ":"active"),onClick:function(){b(u<s?u+1:s)},children:Object(C.jsxs)("span",{className:"page-link ",style:{cursor:"pointer"},children:["Siguiente ",Object(C.jsx)(M.e,{})]})})]})}),Object(C.jsx)("div",{className:"card-columns mb-4",children:a.map((function(e){return Object(n.createElement)(ie,Object(j.a)(Object(j.a)({},e),{},{key:e.id}))}))})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("strong",{children:"Cargando..."}),Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsx)("div",{className:"spinner-border",role:"status",children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})})]}),c&&Object(C.jsx)(Ee,{})]})},Te=function(){var e=Object(o.g)(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth})).name;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark primary mb-3",children:[Object(C.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(C.jsx)("img",{src:"https://i.imgur.com/WNKowqR.jpg",className:"rounded",width:"70",height:"70",alt:"UVS"})}),Object(C.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{className:"navbar-toggler-icon"})}),Object(C.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:[Object(C.jsxs)("ul",{className:"navbar-nav mr-auto ml-md px-2",children:[Object(C.jsx)("li",{className:"nav-item active",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/",children:"Home"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/profile/noticies",children:"Noticias"})})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("h3",{children:Object(C.jsx)(r.b,{className:"nav-link",to:"/profile/stories",children:"Historias"})})})]}),Object(C.jsx)("ul",{className:"navbar-nav ml-auto px-3",children:Object(C.jsxs)("li",{className:"nav-item dropleft",children:[Object(C.jsx)("button",{className:"btn btn-secondary btn-lg dropdown-toggle ml-2 mb-2",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:a}),Object(C.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:Object(C.jsxs)("button",{className:"dropdown-item",onClick:function(){e.push("./"),t(g())},children:[Object(C.jsx)(ne.h,{})," Cerrar sesi\xf3n"]})})]})})]})]})})},Fe=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Te,{}),Object(C.jsx)("div",{className:"container ",children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{exact:!0,path:"/profile/noticies",component:Ae}),Object(C.jsx)(o.b,{exact:!0,path:"/profile/manage-notice",component:ke}),Object(C.jsx)(o.b,{exact:!0,path:"/profile/stories",component:Le}),Object(C.jsx)(o.b,{exact:!0,path:"/profile/manage-story",component:Ie}),Object(C.jsx)(o.a,{exact:!0,to:"/profile"})]})}),Object(C.jsx)(le,{})]})},De=function(e){e.isAuthenticated;var t=e.render,a=Object(ye.a)(e,["isAuthenticated","render"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return Object(C.jsx)(t,Object(j.a)({},e))}}))},Pe=a(61),Ue=a.n(Pe),qe=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(C.jsx)("h1",{children:"Espere..."}),Object(C.jsx)(Ue.a,{type:"bars",color:"#6a1576",height:"20%",width:"50%"})]})})},Be=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.checking,a=e.uid,c=Object(i.b)();return Object(n.useEffect)((function(){c(function(){var e=Object(O.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("auth/renew");case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(n=e.sent).ok){e.next=12;break}localStorage.setItem("token",n.token),localStorage.setItem("token-initDate",(new Date).getTime()),t(k({uid:n.uid,name:n.name})),e.next=13;break;case 12:return e.abrupt("return",t(y()));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c]),t?Object(C.jsx)(qe,{}):Object(C.jsx)(r.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(we,{isAuthenticated:!!a,path:"/profile",render:Fe}),Object(C.jsx)(De,{isAuthenticated:!!a,path:"/auth",render:E}),Object(C.jsx)(De,{isAuthenticated:!!a,path:"/",render:Ne}),Object(C.jsx)(o.a,{to:"/"})]})})})},Me=(a(163),a(164),a(26)),Re=a(62),He={checking:!0},Ke={msgError:""},Ve={noticies:{noticeArr:[],total_docs:null,total_page:null},activeNotice:null},Ge={stories:{storyArr:[],total_docs:null,total_page:null},activeStory:null},Ye={ChatOpen:!1},Je=Object(Me.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.authLogin:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case v.authFinishChecking:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case v.authLogout:return{checking:!1};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.setError:return Object(j.a)(Object(j.a)({},e),{},{msgError:t.payload});case v.uiRemoveError:return Object(j.a)(Object(j.a)({},e),{},{msgError:""});default:return e}},story:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.storySetActive:return Object(j.a)(Object(j.a)({},e),{},{activeStory:t.payload});case v.storyClearActive:return Object(j.a)(Object(j.a)({},e),{},{activeStory:null});case v.storyUpdated:return Object(j.a)(Object(j.a)({},e),{},{story:{stories:e.stories.storyArr.map((function(e){return e.id===t.payload.id?t.payload:e}))}});case v.storyDeleted:return Object(j.a)(Object(j.a)({},e),{},{stories:e.stories.storyArr.filter((function(t){return t.id!==e.activeStory.id})),activeStory:null});case v.storyLoaded:return Object(j.a)(Object(j.a)({},e),{},{stories:{storyArr:Object(fe.a)(t.payload.stories),total_docs:t.payload.total_docs,total_page:t.payload.total_page}});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.uiOpenChat:return Object(j.a)(Object(j.a)({},e),{},{ChatOpen:!0});case v.uiCloseChat:return Object(j.a)(Object(j.a)({},e),{},{ChatOpen:!1});default:return e}},notice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.noticeSetActive:return Object(j.a)(Object(j.a)({},e),{},{activeNotice:t.payload});case v.noticeClearActive:return Object(j.a)(Object(j.a)({},e),{},{activeNotice:null});case v.noticeUpdated:return Object(j.a)(Object(j.a)({},e),{},{noticies:{noticeArr:e.noticies.noticeArr.map((function(e){return e.id===t.payload.id?t.payload:e}))}});case v.noticeDeleted:return Object(j.a)(Object(j.a)({},e),{},{noticies:e.noticies.noticeArr.filter((function(t){return t.id!==e.activeNotice.id})),activeNotice:null});case v.noticeLoaded:return Object(j.a)(Object(j.a)({},e),{},{noticies:{noticeArr:Object(fe.a)(t.payload.noticies),total_docs:t.payload.total_docs,total_page:t.payload.total_page}});default:return e}}}),Qe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Me.c,We=Object(Me.d)(Je,Qe(Object(Me.a)(Re.a)));var Xe=function(){return Object(C.jsx)(i.a,{store:We,children:Object(C.jsx)(Be,{})})};s.a.render(Object(C.jsx)(Xe,{}),document.getElementById("root"))},41:function(e,t,a){},59:function(e,t,a){},72:function(e,t,a){}},[[165,1,2]]]);
//# sourceMappingURL=main.77294a2d.chunk.js.map
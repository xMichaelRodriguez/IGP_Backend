(this["webpackJsonpuvs-app"]=this["webpackJsonpuvs-app"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(32),s=n.n(c),i=n(5),r=n(9),o=n(6),l=n(13),d=n(22),j=n(3),b=(n(72),n(20)),u=n.n(b),m=n(8),h=n.n(m),O=n(14),x="https://uvs-app.herokuapp.com/api",p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(x,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(x,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":c.toString()}}):fetch(a,{method:n,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)})},g="[UI] Open Chat",v="[UI] Close Chat",N="[AUTH] Finish Checking Login State",y="[AUTH] Logged",w="[AUTH] Auth Logout",_="[ERROR] Set Error Message",k="[ERROR] Remove Error Message",C="[STORY]  Story Loaded",S="[STORY] Add New",E="[story] Clear Active story",z="[story] story Updated",I="[story] story Deleted",A="[story] story set active",T="[notice]  Story Loaded",F="[notice] Add New",L="[notice] Clear Active notice",D="[notice] notice Updated",M="[notice] notice Deleted",P="[notice] notice set active",B=function(){return function(e){localStorage.clear(),e(q())}},q=function(){return{type:w}},U=function(){return{type:N}},R=function(e){return{type:_,payload:e}},H=function(){return{type:k}},K=function(e){return{type:y,payload:e}},V=n(1),G=function(){var e=Object(i.c)((function(e){return e.error})).msgError,t=Object(i.c)((function(e){return e.auth})).uid,n=Object(i.b)(),c=Object(o.g)(),s=Object(a.useState)(!0),r=Object(l.a)(s,2),b=r[0],m=r[1],x=Object(a.useState)(!0),f=Object(l.a)(x,2),g=f[0],v=f[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(l.a)(t,2),c=n[0],s=n[1];return[c,function(e){var t=e.target;s(Object(j.a)(Object(j.a)({},c),{},Object(d.a)({},t.name,t.value)))},function(){s(e)}]}({email:"admin@gmail.com",password:"thePassword123"}),y=Object(l.a)(N,2),w=y[0],_=y[1],k=w.email,C=w.password;Object(a.useEffect)((function(){if(t)return c.push("/")}),[t,c]);var S=function(){return u.a.isEmail(k)?C.length<5?(v(!1),!1):(m(!0),v(!0),!0):(m(!1),!1)};return Object(V.jsx)("div",{className:"container   login",children:Object(V.jsxs)("div",{className:"form-row shadow login__box",children:[Object(V.jsx)("div",{className:"col-md-12 mb-3 mt-1",children:Object(V.jsx)("h2",{children:"login"})}),Object(V.jsx)("div",{className:"col-md-12 mb-3",children:Object(V.jsxs)("div",{className:"form-group ".concat(!b&&"has-danger","  "),children:[Object(V.jsx)("input",{type:"text",className:"form-control ".concat(!b&&"is-invalid"," "),name:"email",value:k,onChange:_,placeholder:"email"}),!b&&Object(V.jsx)("div",{className:"invalid-feedback",children:"Invalid Email"})]})}),Object(V.jsx)("div",{className:"col-md-12 mb-3",children:Object(V.jsxs)("div",{className:"form-group ".concat(!g&&"has-danger","  "),children:[Object(V.jsx)("input",{type:"password",name:"password",value:C,onChange:_,className:"form-control ".concat(!g&&"is-invalid"," "),placeholder:"password"}),!g&&Object(V.jsx)("div",{className:"invalid-feedback",children:"Invalid Password"})]})}),!!e&&Object(V.jsx)("h3",{children:Object(V.jsx)("span",{className:"badge badge-danger font-weight-normal",children:e})}),Object(V.jsx)("div",{className:"col-md-12 mb-3 ",children:Object(V.jsx)("button",{className:"btn btn-info btn-block",onClick:function(){S()&&n(function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(a){var c,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("auth",{email:e,password:t},"POST");case 2:return c=n.sent,n.next=5,c.json();case 5:(s=n.sent).ok?(localStorage.setItem("token",s.token),localStorage.setItem("token-initDate",(new Date).getTime()),a(K({uid:s.uid,name:s.name})),a(H())):a(R(s.msg));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(k,C))},children:"Iniciar Sesi\xf3n"})})]})})},Y=function(){return Object(V.jsx)("div",{children:Object(V.jsx)("div",{className:"",children:Object(V.jsx)("div",{className:"",children:Object(V.jsxs)(o.d,{children:[Object(V.jsx)(o.b,{exact:!0,path:"/auth/login",component:G}),Object(V.jsx)(o.a,{to:"/auth/login"})]})})})})},J=n(15),Q=n.n(J),W=(n(23),n(7)),X=n.n(W),Z=function(e){return{type:S,payload:e}},$=function(e){var t=e.page,n=void 0===t?1:t;return function(){var e=Object(O.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("stories/?page=".concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok&&(delete c.ok,t(ee(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e){return{type:C,payload:e}},te=function(e){return{type:z,payload:e}},ne=function(){return{type:I}},ae=function(){return{type:E}},ce=function(){var e=Object(i.c)((function(e){return e.story.stories})).storyArr,t=Object(i.b)();return Object(a.useEffect)((function(){t($({}))}),[t]),Object(V.jsx)("div",{className:"list-group animate__animated   animate__zoomIn",children:0!==e.length&&e.map((function(e){return Object(V.jsxs)("span",{className:"list-group-item flex-column align-items-start ",children:[Object(V.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(V.jsx)("h5",{className:"mb-1",children:e.title}),Object(V.jsx)("small",{children:Q()(e.date).calendar()})]}),Object(V.jsx)("p",{className:"mb-1 px-1 text-break",children:"".concat(e.body.substr(0,100)," ...")})]},e.id)}))})},se=n(10),ie=function(e){return{type:F,payload:e}},re=function(e){var t=e.page,n=void 0===t?1:t;return function(){var e=Object(O.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("noticies/?page=".concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok&&(delete c.ok,t(oe(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(e){return{type:T,payload:e}},le=function(e){return{type:D,payload:e}},de=function(){return{type:M}},je=function(){return{type:L}},be=function(){var e=Object(i.c)((function(e){return e.notice.noticies})).noticeArr,t=Object(i.b)();return Object(a.useEffect)((function(){t(re({}))}),[t]),Object(V.jsx)("div",{children:!!e&&Object(V.jsx)("div",{className:"list-group animate__animated   animate__zoomIn",children:e.map((function(e){return Object(V.jsxs)("span",{className:"list-group-item  flex-column align-items-start ",children:[Object(V.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(V.jsx)("h5",{className:"mb-1",children:e.title}),Object(V.jsx)("small",{children:Q()(e.date).calendar()})]}),Object(V.jsx)("p",{className:"mb-1",children:"".concat(e.body.substr(0,100)," ...")}),Object(V.jsx)("small",{children:"Donec id elit non mi porta."})]},e.id)}))})})},ue=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{style:{backgroundColor:"#F5F5F5"},className:"p-3 mb-3 card ",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between animate__animated   animate__fadeIn",children:[Object(V.jsx)("h4",{children:"Nuevas Historias"}),Object(V.jsx)(r.b,{to:"/stories",children:Object(V.jsxs)("h4",{children:["Todas las historias ",Object(V.jsx)(se.b,{})," "]})})]}),Object(V.jsx)("hr",{}),Object(V.jsx)(ce,{})]}),Object(V.jsxs)("section",{style:{backgroundColor:"#F5F5F5"},className:"p-3 mb-5 card  ",children:[Object(V.jsxs)("div",{className:"d-flex justify-content-between animate__animated   animate__fadeIn ",children:[Object(V.jsx)("h4",{children:"Nuevas Noticias"}),Object(V.jsx)(r.b,{to:"/noticies",children:Object(V.jsxs)("h4",{className:"",children:["Todas las noticias ",Object(V.jsx)(se.b,{})]})})]}),Object(V.jsx)("hr",{}),Object(V.jsx)(be,{})]})]})},me=function(e){var t=e.title,n=e.body,a=e.date,c=e.id,s=Object(o.h)(),l=Object(i.b)(),d={title:t,body:n,date:a,id:c};return Object(V.jsx)("div",{className:"card mt-2  animate__animated   animate__zoomIn",children:Object(V.jsxs)("div",{className:"card-body",onDoubleClick:function(){s.pathname.includes("/profile")&&l(function(e){return{type:P,payload:e}}(d))},children:[Object(V.jsx)("div",{className:"card-title",children:Object(V.jsx)("h3",{children:t})}),Object(V.jsx)("div",{className:"card-subtitle text-muted mt-2",children:Object(V.jsx)("h6",{children:Q()(a).calendar()})}),Object(V.jsx)("div",{className:"card-text",children:Object(V.jsx)("p",{children:"".concat(n.substr(0,100),"...")})}),!s.pathname.includes("/profile")&&Object(V.jsx)("div",{className:"card-link mt-2",children:Object(V.jsx)(r.b,{className:"btn btn-link",to:"/noticies/".concat(c),children:"Leer Mas..."})})]})})},he=function(){var e=Object(i.c)((function(e){return e.notice.noticies})),t=e.noticeArr,n=e.total_page,c=Object(i.b)(),s=Object(a.useState)(1),r=Object(l.a)(s,2),o=r[0],d=r[1];Object(a.useEffect)((function(){c(re({}))}),[c]);return Object(a.useEffect)((function(){c(re({page:o}))}),[c,o]),Object(V.jsx)(V.Fragment,{children:t?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("nav",{"aria-label":"Page navigation example",children:Object(V.jsxs)("ul",{className:"pagination justify-content-end animate__animated   animate__fadeIn",children:[Object(V.jsx)("li",{className:"page-item ".concat(1===o?"disabled hand":"active"),onClick:function(){d(o>n?o-1:1)},children:Object(V.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:"Anterior"})}),Object(V.jsx)("li",{className:"page-item ".concat(o===n?"disabled hand":"active"),onClick:function(){d(o<n?o+1:n)},children:Object(V.jsx)("span",{className:"page-link ",style:{cursor:"pointer"},children:"Siguiente"})})]})}),Object(V.jsx)("div",{className:"card-columns",children:t.map((function(e){return Object(V.jsx)(me,Object(j.a)({},e),e.id)}))})]}):Object(V.jsx)("h1",{children:"hola"})})},Oe=function(){var e=Object(o.i)().noticeId,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){Object(O.a)(h.a.mark((function t(){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p("noticies/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:(a=t.sent).ok&&(delete a.ok,s(a.noticies));case 7:case"end":return t.stop()}}),t)})))()}),[e]),c!=={}?Object(V.jsxs)("div",{className:"card animate__animated   animate__zoomIn",children:[Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsxs)("div",{className:"card-title titulo_card d-block justify-content-between  animate__animated   animate__zoomIn",children:[Object(V.jsx)("h1",{children:c.title}),Object(V.jsx)("h6",{className:"text-muted",children:Q()(c.date).calendar()})]}),Object(V.jsx)("p",{className:"card-text text-justify animate__animated   animate__zoomIn",style:{fontSize:"20px"},children:c.body})]}),Object(V.jsx)("div",{className:"card-footer animate__animated   animate__zoomIn",children:Object(V.jsxs)(r.b,{className:"btn btn-info btn-lg",to:"/noticies",children:[Object(V.jsx)(se.a,{size:"1.5rem"})," Volver"]})})]}):Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"spinner-grow",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})]})},xe=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.transparencia.gob.sv/api/v1/institutions.json",e.next=3,fetch("https://www.transparencia.gob.sv/api/v1/institutions.json",{});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=!!n&&n.map((function(e){return Object(j.a)({},e)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(e){var t=Object(a.useState)({data:[],loading:!0}),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){xe().then((function(e){s({data:e,loading:!1})}))}),[e]),c},fe=function(e){var t=e.name,n=e.acronym,a=e.avatar_file_name,c=(e.twitter_url,e.officer_email),s=e.officer_name,i=(e.youtube_url,e.avatar_file_url),r=(e.website_url,Object(o.g)());return Object(V.jsxs)("div",{className:"card mt-2 animate__animated   animate__zoomIn",children:[Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsx)("div",{className:"card-title",children:Object(V.jsx)("h3",{className:"text-info btn-link",style:{cursor:"pointer"},onClick:function(){return r.push("/organizations/".concat(n))},children:n})}),Object(V.jsx)("div",{className:"card-subtitle mb-2",children:Object(V.jsx)("span",{children:t})}),Object(V.jsx)("div",{className:"card-text",style:{fontSize:"14px"},children:Object(V.jsxs)("ul",{className:"list-group",style:{listStyle:"none"},children:[Object(V.jsxs)("li",{className:"mb-2",children:[Object(V.jsx)(se.c,{className:"text-info"})," ",Object(V.jsxs)("span",{className:"font-weight-bolder",children:["Oficial de informaci\xf3n:",s]})]}),Object(V.jsxs)("li",{className:"mb-2",children:[Object(V.jsx)(se.f,{className:"text-info"})," ",Object(V.jsx)("span",{className:"font-weight-bolder",children:c})]})]})})]}),Object(V.jsx)("img",{className:"card-img-bottom ",style:{height:"180px"},src:i.includes("missing")?"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg":"https://www.transparencia.gob.sv/".concat(i),alt:a})]})},ge=function(){var e=pe(),t=e.data,n=e.loading;return Object(V.jsxs)(V.Fragment,{children:[n&&Object(V.jsx)("h1",{children:Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"spinner-grow",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})]})}),Object(V.jsx)("div",{className:"card-columns ",children:t.map((function(e){return(e.acronym.includes("CONNA")||e.acronym.includes("MINEDUCYT")||e.acronym.includes("PDDH")||e.acronym.includes("ISNA"))&&Object(V.jsx)(fe,Object(j.a)({},e),e.id)}))})]})},ve=(n(41),n(11)),Ne=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).name;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark primary mb-3 container-fluid",children:[Object(V.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(V.jsx)("img",{src:"https://i.imgur.com/WNKowqR.jpg",className:"rounded",width:"70",height:"70",alt:"UVS"})}),Object(V.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(V.jsx)("span",{className:"navbar-toggler-icon"})}),Object(V.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:[Object(V.jsxs)("ul",{className:"navbar-nav mr-auto ml-md",children:[Object(V.jsx)("li",{className:"nav-item active",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/",children:"Home"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/noticies",children:"Noticias"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/stories",children:"Historias de vida"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/organizations",children:"Organizaciones"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"learning-about-violence",children:"Aprendiendo sobre la violencia"})})})]}),Object(V.jsx)("ul",{className:"navbar-nav ml-auto ",children:t?Object(V.jsxs)("li",{className:"nav-item dropleft",children:[Object(V.jsx)("button",{className:"btn btn-secondary btn-lg dropdown-toggle ml-2 mb-2",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t}),Object(V.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(V.jsxs)(r.b,{className:"dropdown-item",to:"/profile",children:[Object(V.jsx)(ve.m,{})," Perfil"]}),Object(V.jsxs)("button",{className:"dropdown-item",onClick:function(){return e(B())},children:[Object(V.jsx)(ve.g,{})," Cerrar sesi\xf3n"]})]})]}):Object(V.jsx)("li",{className:"nav-item ",children:Object(V.jsx)(r.b,{to:"/auth/login",className:"btn btn-secondary btn-lg",children:"Login"})})})]})]})})},ye=function(){return Object(V.jsx)("div",{children:Object(V.jsx)("h1",{children:"learning about violencez"})})},we=function(e){var t=e.title,n=e.body,a=e.date,c=e.id,s=Object(o.h)(),l=Object(i.b)(),d={title:t,body:n,date:a,id:c};return Object(V.jsx)("div",{className:"card mt-2 animate__animated   animate__zoomIn",children:Object(V.jsxs)("div",{className:"card-body",onDoubleClick:function(){s.pathname.includes("/profile")&&l(function(e){return{type:A,payload:e}}(d))},children:[Object(V.jsx)("div",{className:"card-title",children:Object(V.jsx)("h3",{children:t})}),Object(V.jsx)("div",{className:"card-subtitle text-muted mt-2",children:Object(V.jsx)("h6",{children:Q()(a).calendar()})}),Object(V.jsx)("div",{className:"card-text",children:Object(V.jsx)("p",{children:"".concat(n.substr(0,100),"...")})}),!s.pathname.includes("/profile")&&Object(V.jsx)("div",{className:"card-link mt-2",children:Object(V.jsx)(r.b,{className:"btn btn-link",to:"/stories/".concat(c),children:"Leer Mas..."})})]})})},_e=function(){var e=Object(i.c)((function(e){return e.story.stories})),t=e.storyArr,n=e.total_page,c=Object(i.b)(),s=Object(a.useState)(1),r=Object(l.a)(s,2),o=r[0],d=r[1];Object(a.useEffect)((function(){c($({}))}),[c]);return Object(a.useEffect)((function(){c($({page:o}))}),[c,o]),t?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("nav",{"aria-label":"Page navigation example mb-3",children:Object(V.jsxs)("ul",{className:"pagination justify-content-end animate__animated   animate__fadeIn",children:[Object(V.jsx)("li",{className:"page-item ".concat(1===o?"disabled hand":"active"),onClick:function(){d(o>n?o-1:1)},children:Object(V.jsx)("span",{className:"page-link",style:{cursor:"pointer"},children:"Anterior"})}),Object(V.jsx)("li",{className:"page-item ".concat(o===n?"disabled hand":"active"),onClick:function(){d(o<n?o+1:n)},children:Object(V.jsx)("span",{className:"page-link ",style:{cursor:"pointer"},children:"Siguiente"})})]})}),Object(V.jsx)("div",{className:"card-columns mt-3",children:t.map((function(e){return Object(V.jsx)(we,Object(j.a)({},e),e.id)}))})]}):Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"spinner-border",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})]})},ke=function(e){e.history;var t=Object(o.i)().storyId,n=Object(a.useState)({}),c=Object(l.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){Object(O.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("stories/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent).ok&&(delete a.ok,i(a.stories));case 7:case"end":return e.stop()}}),e)})))()}),[t]),s==={}?Object(V.jsxs)("div",{className:"d-flex justify-content-center m-auto",children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"spinner-grow",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(V.jsxs)("div",{className:"card p-3 mb-5   animate__animated   animate__zoomIn",children:[Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsxs)("div",{className:"card-title d-block justify-content-between   animate__animated   animate__zoomIn",children:[Object(V.jsx)("h1",{children:s.title}),Object(V.jsx)("h6",{className:"text-muted",children:Q()(s.date).calendar()})]}),Object(V.jsx)("p",{className:"card-text text-justify  animate__animated   animate__zoomIn",style:{fontSize:"20px"},children:s.body})]}),Object(V.jsx)("div",{className:"card-footer  animate__animated   animate__zoomIn",children:Object(V.jsxs)(r.b,{className:"btn btn-info btn-lg",to:"/stories",children:[Object(V.jsx)(se.a,{size:"1.5rem"})," Volver"]})})]})},Ce=function(){return Object(V.jsx)("div",{className:"d-flex justify-content-center primary footer ",children:Object(V.jsx)("strong",{className:"m-auto",children:"\xa92021 Todos los derechos reservados UVS "})})},Se=n(34),Ee=n.n(Se),ze=function(e){var t=[{text:"\xbfQuieres saber cu\xe1les son tus derechos fundamentales?",handler:e.actionProvider.handleDerechos,id:1},{text:"\xbfQuieres saber que organizaciones protegen tus derechos?",handler:e.actionProvider.handleOrganizations,id:2}].map((function(e){return Object(V.jsx)("blockquote",{className:"blockquote primary rounded p-2 cursor shadow-sm",onClick:e.handler,children:Object(V.jsxs)("p",{className:"m-auto",children:[Object(V.jsx)(ve.a,{})," ",e.text]})},e.id)}));return Object(V.jsx)("div",{className:"d-flex  align-items-start flex-wrap container-sm",style:{marginRight:"auto",padding:5},children:t})},Ie=function(e){var t=e.options.map((function(e){return Object(V.jsx)("li",{className:"link-list-item  ml-auto mr-auto mt-auto mb-3  px-3 bg-secondary ",style:{maxWidth:"250px",borderRadius:"2%"},children:Object(V.jsxs)("blockquote",{className:"blockquote text-justify highlight py-3",children:[Object(V.jsxs)("p",{clasclassName:"mb-1 ",children:[Object(V.jsx)(se.e,{}),e.title]}),Object(V.jsx)("footer",{className:"blockquote-footer",children:Object(V.jsx)("span",{className:"Source Title",children:e.text})})]})},e.id)}));return Object(V.jsx)("ul",{className:"list-group mb-5 ",style:{listStyle:"none"},children:t})},Ae=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.transparencia.gob.sv/api/v1/institutions.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(V.jsx)("ul",{className:"list-group mb-5",style:{listStyle:"none"},children:n!==[]?n.map((function(e){return Object(V.jsx)(V.Fragment,{children:(e.acronym.includes("CONNA")||e.acronym.includes("ISNA")||e.acronym.includes("PDDH")||e.acronym.includes("MINEDUCYT"))&&Object(V.jsx)("li",{className:"a-list-item mb-2 shadow px-3 bg-secondary",children:Object(V.jsxs)("blockquote",{className:"blockquote text-center highlight text-break",children:[Object(V.jsxs)("div",{className:"mb-1",children:[Object(V.jsx)("div",{className:"font-weight-bold",children:e.avatar_file_url.includes("missing")?Object(V.jsx)("img",{className:"img-fluid w-50 h-50",alt:"not found",src:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg"}):Object(V.jsx)("img",{className:"img-fluid w-50 h-50",src:"https://www.transparencia.gob.sv/".concat(e.avatar_file_url),alt:"".concat(e.avatar_file_name)})}),Object(V.jsx)("hr",{}),Object(V.jsxs)("ul",{className:"list-group list-group-flush",style:{listStyle:"none"},children:[Object(V.jsx)("li",{className:"mb-2",children:Object(V.jsxs)("span",{children:[Object(V.jsx)(se.h,{}),Object(V.jsxs)("span",{className:"font-weight-bold",children:["Encargado/a:"," "]}),e.officer_name]})}),Object(V.jsxs)("li",{className:"mb-2",children:[Object(V.jsx)(se.h,{}),Object(V.jsx)("span",{className:"font-weight-bold",children:" Sitio web: "}),Object(V.jsx)("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",children:e.website_url})]}),Object(V.jsxs)("li",{className:"mb-2 text-center",children:[Object(V.jsx)(se.h,{})," ",Object(V.jsx)("span",{className:"font-weight-bold",children:"Redes"}),Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-md-4",children:e.twitter_url&&!e.twitter_url.includes(",")?Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("a",{href:e.twitter_url,target:"_blank",rel:"noopener noreferrer",children:Object(V.jsx)(ve.k,{size:"1.5rem"})})}):Object(V.jsx)("span",{children:"Sin Twitter"})}),Object(V.jsx)("div",{className:"col-md-4",children:e.facebook_url&&!e.facebook_url.includes(",")?Object(V.jsx)("a",{href:e.facebook_url,target:"_blank",rel:"noopener noreferrer",children:Object(V.jsx)(ve.d,{size:"1.5rem"})}):Object(V.jsx)("span",{children:"Sin Facebook"})}),Object(V.jsx)("div",{className:"col-md-4",children:e.youtube_url&&!e.youtube_url.includes(",")?Object(V.jsx)("a",{href:e.youtube_url,className:"bg-red",target:"_blank",rel:"noopener noreferrer",children:Object(V.jsx)(ve.n,{size:"1.5rem",className:"text-danger"})}):Object(V.jsx)("span",{children:"Sin Youtube"})})]})]})]})]}),Object(V.jsx)("footer",{className:"blockquote-footer",children:Object(V.jsxs)("span",{className:"Source Title",children:[Object(V.jsx)("span",{className:"font-weight-bold",children:"correo:"})," ",e.officer_email]})})]})},e.id)})})):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{class:"spinner-border text-info",role:"status",children:Object(V.jsx)("span",{class:"sr-only",children:"Loading..."})}),Object(V.jsx)("span",{children:"Cargando contenido..."})]})})},Te={botName:"UvsBot",initialMessages:[Object(Se.createChatBotMessage)("Hola soy UvsBot, estoy aqui para ayudar. Que quieres aprender?",{widget:"LearningOptions"})],widgets:[{widgetName:"LearningOptions",widgetFunc:function(e){return Object(V.jsx)(ze,Object(j.a)({},e))}},{widgetName:"Derechos",widgetFunc:function(e){return Object(V.jsx)(Ie,Object(j.a)({},e))},props:{options:[{title:"Derecho a la vida",text:"El derecho a la vida es un derecho universal, es decir que le corresponde a todo ser humano. Es un derecho necesario para poder concretizar todos los dem\xe1s derechos universales. El derecho a la vida significa tener la oportunidad de vivir nuestra propia vida.",id:1},{title:"Derecho a la identidad ",text:"El derecho a la identidad permite que ni\xf1as y ni\xf1os tengan un nombre y una nacionalidad desde su nacimiento. Adem\xe1s, es la puerta a sus otros derechos como el acceso a servicios de salud, educaci\xf3n y protecci\xf3n",id:2},{title:"Derecho a la vida",text:"El derecho a la vida es un derecho universal, es decir que le corresponde a todo ser humano. El derecho a la vida significa tener la oportunidad de vivir nuestra propia vida. ... Si no hay vida, no tiene sentido que existan los dem\xe1s derechos fundamentales.",id:3},{title:"Derecho a la igualdad ",text:"Este derecho significa que todo ser humano debe ser reconocido como un igual ante la ley y disfrutar de todos sus derechos, sin discriminaci\xf3n por motivo de nacionalidad, raza o creencias",id:4},{title:"Derecho a no ser discriminado",text:"Es el derecho de todos los seres humanos a ser iguales en dignidad, a ser tratados con respeto y consideraci\xf3n y a participar sobre bases iguales en cualquier \xe1rea de la vida econ\xf3mica, social, pol\xedtica, cultural o civil.",id:5}]}},{widgetName:"Organizaciones",widgetFunc:function(e){return Object(V.jsx)(Ae,Object(j.a)({},e))},props:{}}],customComponents:{header:function(){return Object(V.jsx)("div",{className:"d-flex justify-content-center title-break",style:{backgroundColor:"#6a1576",padding:"5px",borderRadius:"3px",color:"white",fontSize:"18px",height:70},children:Object(V.jsxs)("div",{className:"m-auto",children:[Object(V.jsx)(ve.l,{className:"ml-2 mr-2",size:"1.5rem"}),Object(V.jsx)("span",{className:"font-weight-bold ",children:"Conversando con UvsBot"})]})})},state:{gist:"Active"},botAvatar:function(e){return Object(V.jsx)("div",{className:"bg-info text-white",style:{height:50,width:37,marginRight:10,borderRadius:"50px"},children:Object(V.jsx)(ve.l,{className:" mr-3 ml-1 mr-1"})})},userAvatar:function(e){return Object(V.jsx)("div",{children:Object(V.jsx)(ve.m,{className:"px-1 ml-2",size:"2.3rem"})})}},customStyles:{botMessageBox:{backgroundColor:"#6a1576",borderRadius:"10px"},chatButton:{backgroundColor:"#6a1576",borderRadius:"10px"}}},Fe=n(35),Le=n(36),De=function(){function e(t,n){Object(Fe.a)(this,e),this.actionProvider=t,this.state=n}return Object(Le.a)(e,[{key:"parse",value:function(e){var t=e.toLowerCase();(t.includes("hola")||t.includes("holaaaa")||t.includes("alguien")||t.includes("alguien en casa")||t.length<1)&&this.actionProvider.greet(),t.includes("no")&&this.actionProvider.messageNeged(),t.includes("si")&&this.actionProvider.messageSuccess(),t.includes("que tal")&&this.actionProvider.queTalMessage(),t.includes("derechos")&&this.actionProvider.handleDerechos(),t.includes("organizaciones")&&this.actionProvider.handleOrganizations()}}]),e}(),Me=n(25),Pe=function(){function e(t,n,a){var c=this;Object(Fe.a)(this,e),this.handleDerechos=function(){var e=c.createChatBotMessage("Fant\xe1stico, tengo los siguientes recursos para ti sobre derechos",{widget:"Derechos"});c.updateChatbotState(e)},this.handleOrganizations=function(){var e=c.createChatBotMessage("Fant\xe1stico, tengo los siguientes recursos para ti sobre las Organizaciones",{widget:"Organizaciones"});c.updateChatbotState(e)},this.createChatBotMessage=t,this.setState=n,this.createClientMessage=a}return Object(Le.a)(e,[{key:"greet",value:function(){var e=this.createChatBotMessage("Hola, Amigo. Necesitas algo?");this.updateChatbotState(e)}},{key:"queTalMessage",value:function(){var e=this.createChatBotMessage("bien, con ganas de chatear contigo, amigo :)");this.updateChatbotState(e)}},{key:"messageNeged",value:function(){var e=this.createChatBotMessage("ok, que tengas un lindo dia :)");this.updateChatbotState(e)}},{key:"messageSuccess",value:function(){var e=this.createChatBotMessage("Que quieres aprender?",{widget:"LearningOptions"});this.updateChatbotState(e)}},{key:"updateChatbotState",value:function(e){this.setState((function(t){return Object(j.a)(Object(j.a)({},t),{},{messages:[].concat(Object(Me.a)(t.messages),[e])})}))}}]),e}(),Be=function(){var e=Object(o.i)().organization_acronym,t=pe(),n=t.data,a=t.loading,c=n&&n.find((function(t){return t.acronym===e}));return Object(V.jsx)(V.Fragment,{children:a?Object(V.jsx)("h1",{children:Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"spinner-grow",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})]})}):Object(V.jsxs)("div",{className:"card px-5 mb-5 container animate__animated   animate__zoomIn",children:[Object(V.jsx)("div",{className:"d-flex justify-content-center",children:Object(V.jsx)("img",{className:"card-img-top img-thumbnail text-center",style:{height:"400px",width:"450px"},src:c.avatar_file_url.includes("missing")?"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg":"https://www.transparencia.gob.sv/".concat(c.avatar_file_url),alt:c.avatar_file_name})}),Object(V.jsxs)("div",{className:"card-body",children:[Object(V.jsx)("div",{className:"card-title",children:Object(V.jsx)("h1",{children:c.name})}),Object(V.jsx)("div",{className:"card-subtitle",children:Object(V.jsx)("p",{className:"font-weight-bolder",children:c.acronym})}),Object(V.jsxs)("div",{className:"card-text",children:[Object(V.jsxs)("h4",{children:[Object(V.jsx)(se.j,{className:"text-info"})," Oficial de informaci\xf3n: ",c.officer_name]}),Object(V.jsxs)("h4",{className:"text-muted mt-2 mb-3",children:[Object(V.jsx)(se.g,{className:"text-info"})," ",c.officer_email]}),c.website_url&&Object(V.jsxs)("h4",{className:"text-muted mt-2 mb-3",children:[Object(V.jsx)(ve.e,{className:"text-info"})," ",c.website_url]})]}),Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"col-md-6 mb-3",children:Object(V.jsx)("div",{className:"card-text",children:Object(V.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:Object(V.jsx)("li",{children:Object(V.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.twitter_url.includes(",")?c.twitter_url.split(",").map((function(e){return Object(V.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(V.jsxs)("strong",{children:[Object(V.jsx)(ve.j,{})," ",e]})})})):Object(V.jsx)("li",{children:Object(V.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.twitter_url&&window.open(c.twitter_url)},children:""!==c.twitter_username?Object(V.jsxs)("p",{children:[Object(V.jsx)(ve.j,{className:"text-primary"})," ",c.twitter_username]}):Object(V.jsx)("p",{children:"Sin Twitter"})})})})})})})}),Object(V.jsx)("div",{className:"col-md-6 mb-3",children:Object(V.jsx)("div",{className:"card-text",children:Object(V.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:Object(V.jsx)("li",{children:Object(V.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.facebook_url.includes(",")?c.facebook_url.split(",").map((function(e){return Object(V.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(V.jsxs)("strong",{children:[Object(V.jsx)(ve.c,{})," ",e]})})})):Object(V.jsx)("li",{children:Object(V.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.facebook_url&&window.open(c.facebook_url)},children:""!==c.facebook_username?Object(V.jsxs)("p",{children:[Object(V.jsx)(ve.c,{className:"text-primary"})," ",c.facebook_username]}):Object(V.jsx)("p",{children:"Sin Facebook"})})})})})})})}),Object(V.jsx)("div",{className:"col-md-6",children:Object(V.jsx)("ul",{className:"list-group",style:{listStyle:"none"},children:c.youtube_url.includes(",")?c.youtube_url.split(",").map((function(e){return Object(V.jsx)("li",{className:"btn-link mb-2",style:{cursor:"pointer"},onClick:function(){window.open(e)},children:Object(V.jsxs)("strong",{children:[Object(V.jsx)(ve.n,{className:"text-danger"})," ",e]})})})):Object(V.jsx)("li",{children:Object(V.jsx)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){return""!==c.youtube_url&&window.open(c.youtube_url)},children:""!==c.youtube_username?Object(V.jsxs)("p",{children:[Object(V.jsx)(ve.n,{className:"text-danger"})," ",c.youtube_username]}):Object(V.jsx)("p",{children:"Sin Youtube"})})})})}),Object(V.jsx)("div",{className:"col-md-6",children:Object(V.jsxs)("p",{className:"font-weight-bolder btn-link",style:{cursor:"pointer",fontSize:"15px"},onClick:function(){window.open("https://www.transparencia.gob.sv".concat(c.administrative_document_file_url))},children:[Object(V.jsx)(se.j,{className:"text-info"})," ",Object(V.jsx)("span",{children:"URL del archivo del documento administrativo"})]})})]}),Object(V.jsx)("div",{className:"card-link mt-3",children:Object(V.jsxs)(r.b,{className:"btn btn-outline-info",to:"/organizations",children:[Object(V.jsx)(se.a,{}),Object(V.jsx)("span",{children:"Volver"})]})})]})]})})},qe=function(){var e=Object(i.c)((function(e){return e.UI})).ChatOpen,t=Object(i.b)();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ne,{}),Object(V.jsxs)("div",{className:"container-fluid px-3 mb-3 animate__animated   animate__zoomIn",children:[Object(V.jsxs)(o.d,{children:[Object(V.jsx)(o.b,{exact:!0,path:"/noticies/:noticeId",component:Oe}),Object(V.jsx)(o.b,{path:"/noticies",component:he}),Object(V.jsx)(o.b,{exact:!0,path:"/stories/:storyId",component:ke}),Object(V.jsx)(o.b,{path:"/stories",component:_e}),Object(V.jsx)(o.b,{exact:!0,path:"/organizations/:organization_acronym",component:Be}),Object(V.jsx)(o.b,{path:"/organizations",component:ge}),Object(V.jsx)(o.b,{path:"./learning-about-violence",component:ye}),Object(V.jsx)(o.b,{exact:!0,path:"/",component:ue})]}),Object(V.jsx)("div",{className:"positions",children:e&&Object(V.jsx)("div",{className:"mb-5 animate__animated ".concat(!1===e?"animate__fadeInDown":" animate__fadeInUp"),children:Object(V.jsx)(Ee.a,{config:Te,actionProvider:Pe,messageParser:De})})})]}),Object(V.jsx)("button",{className:"btn primary mt-2 rounded-circle cursor chat shadow animate__animated animate__rubberBand mb-3",onClick:function(){t(e?{type:v}:{type:g})},children:Object(V.jsx)(se.i,{size:"2rem"})}),Object(V.jsx)(Ce,{})]})},Ue=n(37),Re=function(e){var t=e.isAuthenticated,n=e.render,a=Object(Ue.a)(e,["isAuthenticated","render"]);return Object(V.jsx)(o.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return t?Object(V.jsx)(n,Object(j.a)({},e)):Object(V.jsx)(o.a,{to:"/"})}}))},He=function(){return Object(V.jsx)("div",{className:" text-center centered",children:Object(V.jsx)("div",{className:"card-body ",children:Object(V.jsx)("h1",{style:{fontWeight:800},children:Object(V.jsx)("ins",{children:"Bienvenido Administrador"})})})})},Ke=(n(59),{title:"",body:""}),Ve=function(){var e=Object(o.g)(),t=Object(i.c)((function(e){return e.error})).msgError,n=Object(i.c)((function(e){return e.notice})).activeNotice,c=Object(i.b)(),s=Object(a.useState)(Ke),r=Object(l.a)(s,2),b=r[0],m=r[1],x=b.title,p=b.body;Object(a.useEffect)((function(){m(n||Ke)}),[n,m]);var g=function(e){var t=e.target;m(Object(j.a)(Object(j.a)({},b),{},Object(d.a)({},t.name,t.value)))},v=function(){return u.a.isEmpty(x)?(c(R("Titulo requiredo")),!1):u.a.isLength(x,{min:6})?u.a.isEmpty(p)?(c(R("Cuerpo de la historia requerido")),!1):u.a.isLength(p,{min:50,max:2e3})?(c(H()),!0):(c(R("Cuerpo debe conenter almenos 50 caracteres y maximo 2000")),!1):(c(R("Minimo 6 caracteres")),!1)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("button",{type:"button",className:"btn btn-link font-weight-bolder animate__animated animate__fadeIn",style:{fontSize:"15px"},onClick:function(){c(je()),c(H()),e.push("/profile/noticies")},children:"\u2039 Volver"}),Object(V.jsx)("form",{className:"mb-3 shadow-p p-4 mb-5 animate__animated animate__zoomIn",onSubmit:function(e){var t;e.preventDefault(),v()&&(n?(c((t=b,function(){var e=Object(O.a)(h.a.mark((function e(n){var a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X.a.fire({title:"Actualizando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),a=Object(j.a)(Object(j.a)({},t),{},{date:Q()()}),e.next=5,f("noticies/editNotice/".concat(t.id),a,"PUT");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(n(le(s.noticies)),n(je()),X.a.close(),X.a.fire("Historia Actualizado",t.title,"success")):(X.a.close(),X.a.fire("Error",s.msg,"error")),console.log(s.ok),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),X.a.close(),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),m(Ke)):(c(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,X.a.fire({title:"Guardando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),a=Object(j.a)(Object(j.a)({},e),{},{date:Q()()}),t.next=5,f("noticies/newNotice",a,"POST");case 5:return c=t.sent,t.next=8,c.json();case 8:t.sent.ok&&(n(ie(a)),X.a.close(),X.a.fire("Guardado!!","La noticia:".concat(e.title," ha sido guardada"),"success")),n(H()),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),X.a.close();case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(b)),m(Ke)))},children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{className:"font-weight-bold",children:n?"Editar Notica":"Nueva Noticia"}),Object(V.jsxs)("div",{className:"form-group ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"has-danger"),children:[Object(V.jsx)("label",{htmlFor:"title",className:"form-label mt-4 font-weight-bold",children:"Title"}),Object(V.jsx)("input",{type:"text",className:"form-control ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"is-invalid"),id:"title",value:x,name:"title",onChange:g,"aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(V.jsx)("span",{className:"invalid-feedback",children:(t.includes("Titulo")||t.includes("Minimo"))&&t})]}),Object(V.jsxs)("div",{className:"form-group ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"has-danger"),children:[Object(V.jsx)("label",{htmlFor:"noticebody",className:"form-label mt-4 font-weight-bold",children:"Cuerpo de la noticia"}),Object(V.jsx)("textarea",{type:"text",className:"form-control ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"is-invalid"),id:"noticebody",value:p,name:"body",onChange:g,placeholder:"notica...",rows:"5"}),Object(V.jsx)("span",{className:"invalid-feedback",children:(t.includes("Cuerpo")||t.includes("almenos"))&&t})]}),Object(V.jsx)("div",{className:"mb-3",children:Object(V.jsxs)("button",{type:"submit",className:"btn btn-info btn-lg  ",children:[Object(V.jsx)(ve.f,{size:"1.5rem",className:"mr-1"})," ",n?"publicar cambios":"publicar"]})})]})})]})},Ge=n.p+"static/media/undraw_empty_xct9.c8301e2a.svg",Ye=function(){return Object(V.jsx)("img",{src:Ge,className:"img-fluid w-50",alt:Ge.toString()})},Je=function(){var e=Object(o.h)(),t=Object(o.g)(),n=Object(i.b)(),c=Object(i.c)((function(e){return e.notice})).activeNotice,s=Object(i.c)((function(e){return e.story})).activeStory;Object(a.useEffect)((function(){e.pathname.includes("noticies")?e.pathname.includes("stories")||n(ae()):n(je())}),[e,n]);return Object(V.jsxs)("div",{className:"btn-group animate__animated   animate__zoomIn",style:{position:"fixed",left:"20px",bottom:"80px"},role:"group","aria-label":"Basic example",children:[Object(V.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){c&&e.pathname.includes("noticies")&&n(function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().notice.activeNotice.id,e.prev=1,X.a.fire({title:"Eliminando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),e.next=5,f("noticies/deleteNotice/".concat(a),{},"DELETE");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(t(de()),t(re({})),X.a.close(),X.a.fire("Noticia  Eliminada","","success")):(X.a.close(),X.a.fire("Error",s.msg,"error")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),X.a.close(),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),s&&e.pathname.includes("stories")&&n(function(){var e=Object(O.a)(h.a.mark((function e(t,n){var a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().story.activeStory.id,e.prev=1,X.a.fire({title:"Eliminando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),e.next=5,f("stories/".concat(a),{},"DELETE");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(t(ne()),t($({})),X.a.close(),X.a.fire("Historia Eliminada","","success")):(X.a.close(),X.a.fire("Error",s.msg,"error")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),X.a.close(),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}())},children:[Object(V.jsx)(ve.i,{}),Object(V.jsx)("span",{children:" Borrar"})]}),Object(V.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.pathname.includes("stories")?t.push("/profile/manage-story"):e.pathname.includes("noticies")&&t.push("/profile/manage-notice")},children:[Object(V.jsx)("span",{children:"Editar "}),Object(V.jsx)(ve.b,{})]}),Object(V.jsxs)("button",{type:"button",className:"btn btn-info",onClick:function(){e.pathname.includes("/noticies")?n(je()):e.pathname.includes("/stories")&&n(ae())},children:[Object(V.jsx)("span",{children:"Cancelar "}),Object(V.jsx)(ve.h,{})]})]})},Qe=function(){var e=Object(o.g)(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.notice.noticies})),c=n.noticeArr,s=n.total_page,r=Object(i.c)((function(e){return e.notice})).activeNotice,d=Object(a.useState)(1),b=Object(l.a)(d,2),u=b[0],m=b[1];Object(a.useEffect)((function(){t(re({}))}),[t]);Object(a.useEffect)((function(){t(re({page:u}))}),[t,u]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("button",{className:"btn btn-info mb-3  animate__animated animate__fadeIn",onClick:function(){t(je()),e.push("/profile/manage-notice")},children:[Object(V.jsx)(se.k,{size:"1.5rem"})," \xa0 Nueva Noticia"]}),Object(V.jsx)("hr",{}),c?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("nav",{"aria-label":"Page navigation example ",children:Object(V.jsxs)("ul",{className:"pagination justify-content-end animate__animated animate__fadeIn",children:[Object(V.jsx)("li",{className:"page-item ".concat(1===u?"disabled hand":"active"),onClick:function(){m(u>s?u-1:1)},children:Object(V.jsxs)("span",{className:"page-link",style:{cursor:"pointer"},children:[Object(V.jsx)(se.d,{}),"Anterior"]})}),Object(V.jsx)("li",{className:"page-item ".concat(u===s?"disabled hand ":"active"),onClick:function(){m(u<s?u+1:s)},children:Object(V.jsxs)("span",{className:"page-link ",style:{cursor:"pointer"},children:["Siguiente ",Object(V.jsx)(se.e,{})]})})]})}),Object(V.jsx)("div",{className:"card-columns",children:c.map((function(e){return Object(V.jsx)(me,Object(j.a)({},e),e.id)}))})]}):Object(V.jsx)(Ye,{}),!!r&&Object(V.jsx)(Je,{})]})},We={title:"",body:""},Xe=function(){var e=Object(o.g)(),t=Object(i.c)((function(e){return e.error})).msgError,n=Object(i.c)((function(e){return e.story})).activeStory,c=Object(i.b)(),s=Object(a.useState)(We),r=Object(l.a)(s,2),b=r[0],m=r[1],x=b.title,p=b.body;Object(a.useEffect)((function(){m(n||We)}),[n,m]);var g=function(e){var t=e.target;m(Object(j.a)(Object(j.a)({},b),{},Object(d.a)({},t.name,t.value)))},v=function(){return u.a.isEmpty(x)?(c(R("Titulo requiredo")),!1):u.a.isLength(x,{min:6})?u.a.isEmpty(p)?(c(R("Cuerpo de la historia requerido")),!1):u.a.isLength(p,{min:50,max:2e3})?(c(H()),!0):(c(R("el cuerpo debe conenter almenos 50 caracteres y maximo 2000")),!1):(c(R("Minimo 6 caracteres")),!1)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("button",{type:"button",className:"btn btn-link font-weight-bolder animate__animated animate__fadeIn",style:{fontSize:"15px"},onClick:function(){c(H()),c(ae()),e.push("/profile/stories")},children:"\u2039 Volver"}),Object(V.jsx)("form",{className:"mb-3 shadow-p p-4 mb-5 animate__animated animate__zoomIn",onSubmit:function(e){var t;e.preventDefault(),v()&&(n?(m(We),c((t=b,function(){var e=Object(O.a)(h.a.mark((function e(n){var a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X.a.fire({title:"Actualizando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),a=Object(j.a)(Object(j.a)({},t),{},{date:Q()()}),e.next=5,f("stories/".concat(t.id),a,"PUT");case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).ok?(n(te(t)),n(ae()),X.a.close(),X.a.fire("Historia Actualizado",t.title,"success"),n(H())):(X.a.close(),X.a.fire("Error",s.msg,"error")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),X.a.close(),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))):(c(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,X.a.fire({title:"Guardando...",text:"Por favor espere...",allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!1,showConfirmButton:!1,onBeforeOpen:function(){X.a.showLoading()}}),a=Object(j.a)(Object(j.a)({},e),{},{date:Q()()}),t.next=5,f("stories/new",a,"POST");case 5:return c=t.sent,t.next=8,c.json();case 8:t.sent.ok&&(n(Z(a)),n(H()),X.a.close(),X.a.fire("Guardado!!","La historia:".concat(a.title," ha sido guardada"),"success"),n(H())),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),X.a.close();case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(b)),m(We)))},children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{className:"font-weight-bold",children:n?"Editar Notica":"Nueva Noticia"}),Object(V.jsxs)("div",{className:"form-group ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"has-danger"),children:[Object(V.jsx)("label",{htmlFor:"title",className:"form-label mt-4 font-weight-bold",children:"Title"}),Object(V.jsx)("input",{type:"text",className:"form-control ".concat((t.includes("Titulo")||t.includes("Minimo"))&&"is-invalid"),id:"title",value:x,name:"title",onChange:g,"aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(V.jsx)("span",{className:"invalid-feedback",children:(t.includes("Titulo")||t.includes("Minimo"))&&t})]}),Object(V.jsxs)("div",{className:"form-group ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"has-danger"),children:[Object(V.jsx)("label",{htmlFor:"noticebody",className:"form-label mt-4 font-weight-bold",children:"Cuerpo de la noticia"}),Object(V.jsx)("textarea",{type:"text",className:"form-control ".concat((t.includes("Cuerpo")||t.includes("almenos"))&&"is-invalid"),id:"noticebody",value:p,name:"body",onChange:g,placeholder:"notica...",rows:"5"}),Object(V.jsx)("span",{className:"invalid-feedback",children:(t.includes("Cuerpo")||t.includes("almenos"))&&t})]}),Object(V.jsx)("div",{className:"mb-3",children:Object(V.jsxs)("button",{type:"submit",className:"btn btn-info btn-lg  ",children:[Object(V.jsx)(ve.f,{size:"1.5rem",className:"mr-1"})," ",n?"publicar cambios":"publicar"]})})]})})]})},Ze=function(){var e=Object(i.b)(),t=Object(o.g)(),n=Object(i.c)((function(e){return e.story.stories})).storyArr,c=Object(i.c)((function(e){return e.story})).activeStory,s=Object(i.c)((function(e){return e.story.stories})).total_page,r=Object(a.useState)(1),d=Object(l.a)(r,2),b=d[0],u=d[1];Object(a.useEffect)((function(){e($({}))}),[e]);return Object(a.useEffect)((function(){e($({page:b}))}),[e,b]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("button",{className:"btn btn-info mb-3  animate__animated animate__fadeIn",onClick:function(){e(ae()),t.push("/profile/manage-story")},children:[Object(V.jsx)(se.k,{size:"1.5rem"})," \xa0 Nueva historia"]}),Object(V.jsx)("hr",{}),n&&0!==n.length?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("nav",{"aria-label":"Page navigation example",children:Object(V.jsxs)("ul",{className:"pagination justify-content-end animate__animated animate__fadeIn",children:[Object(V.jsx)("li",{className:"page-item ".concat(1===b?"disabled hand":"active"),onClick:function(){u(b>s?b-1:1)},children:Object(V.jsxs)("span",{className:"page-link",style:{cursor:"pointer"},children:[Object(V.jsx)(se.d,{}),"Anterior"]})}),Object(V.jsx)("li",{className:"page-item ".concat(b===s?"disabled hand ":"active"),onClick:function(){u(b<s?b+1:s)},children:Object(V.jsxs)("span",{className:"page-link ",style:{cursor:"pointer"},children:["Siguiente ",Object(V.jsx)(se.e,{})]})})]})}),Object(V.jsx)("div",{className:"card-columns mb-4",children:n.map((function(e){return Object(a.createElement)(we,Object(j.a)(Object(j.a)({},e),{},{key:e.id}))}))})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("strong",{children:"Cargando..."}),Object(V.jsx)("div",{className:"d-flex justify-content-center",children:Object(V.jsx)("div",{className:"spinner-border",role:"status",children:Object(V.jsx)("span",{className:"sr-only",children:"Loading..."})})})]}),c&&Object(V.jsx)(Je,{})]})},$e=function(){var e=Object(o.g)(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.auth})).name;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark primary mb-3",children:[Object(V.jsx)(r.b,{className:"navbar-brand",to:"/",children:Object(V.jsx)("img",{src:"https://i.imgur.com/WNKowqR.jpg",className:"rounded",width:"70",height:"70",alt:"UVS"})}),Object(V.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(V.jsx)("span",{className:"navbar-toggler-icon"})}),Object(V.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:[Object(V.jsxs)("ul",{className:"navbar-nav mr-auto ml-md px-2",children:[Object(V.jsx)("li",{className:"nav-item active",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/",children:"Home"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/profile/noticies",children:"Noticias"})})}),Object(V.jsx)("li",{className:"nav-item",children:Object(V.jsx)("h3",{children:Object(V.jsx)(r.b,{className:"nav-link",to:"/profile/stories",children:"Historias"})})})]}),Object(V.jsx)("ul",{className:"navbar-nav ml-auto px-3",children:Object(V.jsxs)("li",{className:"nav-item dropleft",children:[Object(V.jsx)("button",{className:"btn btn-secondary btn-lg dropdown-toggle ml-2 mb-2",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:n}),Object(V.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:Object(V.jsxs)("button",{className:"dropdown-item",onClick:function(){e.push("./"),t(B())},children:[Object(V.jsx)(ve.g,{})," Cerrar sesi\xf3n"]})})]})})]})]})})},et=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)($e,{}),Object(V.jsx)("div",{className:"container ",children:Object(V.jsxs)(o.d,{children:[Object(V.jsx)(o.b,{exact:!0,path:"/profile",component:He}),Object(V.jsx)(o.b,{exact:!0,path:"/profile/noticies",component:Qe}),Object(V.jsx)(o.b,{exact:!0,path:"/profile/manage-notice",component:Ve}),Object(V.jsx)(o.b,{exact:!0,path:"/profile/stories",component:Ze}),Object(V.jsx)(o.b,{exact:!0,path:"/profile/manage-story",component:Xe}),Object(V.jsx)(o.a,{exact:!0,to:"/profile"})]})}),Object(V.jsx)(Ce,{})]})},tt=function(e){e.isAuthenticated;var t=e.render,n=Object(Ue.a)(e,["isAuthenticated","render"]);return Object(V.jsx)(o.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return Object(V.jsx)(t,Object(j.a)({},e))}}))},nt=n(61),at=n.n(nt),ct=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)("h1",{children:"Espere..."}),Object(V.jsx)(at.a,{type:"bars",color:"#6a1576",height:"20%",width:"50%"})]})})},st=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.checking,n=e.uid,c=Object(i.b)();return Object(a.useEffect)((function(){c(function(){var e=Object(O.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent).ok){e.next=12;break}localStorage.setItem("token",a.token),localStorage.setItem("token-initDate",(new Date).getTime()),t(K({uid:a.uid,name:a.name})),e.next=13;break;case 12:return e.abrupt("return",t(U()));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c]),t?Object(V.jsx)(ct,{}):Object(V.jsx)(r.a,{children:Object(V.jsx)("div",{children:Object(V.jsxs)(o.d,{children:[Object(V.jsx)(Re,{isAuthenticated:!!n,path:"/profile",render:et}),Object(V.jsx)(tt,{isAuthenticated:!!n,path:"/auth",render:Y}),Object(V.jsx)(tt,{isAuthenticated:!!n,path:"/",render:qe}),Object(V.jsx)(o.a,{to:"/"})]})})})},it=(n(163),n(164),n(26)),rt=n(62),ot={checking:!0},lt={msgError:""},dt={noticies:{noticeArr:[],total_docs:null,total_page:null},activeNotice:null},jt={stories:{storyArr:[],total_docs:null,total_page:null},activeStory:null},bt={ChatOpen:!1},ut=Object(it.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case N:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case w:return{checking:!1};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(j.a)(Object(j.a)({},e),{},{msgError:t.payload});case k:return console.log("hola"),Object(j.a)(Object(j.a)({},e),{},{msgError:""});default:return e}},story:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(j.a)(Object(j.a)({},e),{},{activeStory:t.payload});case E:return Object(j.a)(Object(j.a)({},e),{},{activeStory:null});case z:return Object(j.a)(Object(j.a)({},e),{},{story:{stories:e.stories.storyArr.map((function(e){return e.id===t.payload.id?t.payload:e}))}});case I:return Object(j.a)(Object(j.a)({},e),{},{stories:e.stories.storyArr.filter((function(t){return t.id!==e.activeStory.id})),activeStory:null});case C:return Object(j.a)(Object(j.a)({},e),{},{stories:{storyArr:Object(Me.a)(t.payload.stories),total_docs:t.payload.total_docs,total_page:t.payload.total_page}});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)({},e),{},{ChatOpen:!0});case v:return Object(j.a)(Object(j.a)({},e),{},{ChatOpen:!1});default:return e}},notice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(j.a)(Object(j.a)({},e),{},{activeNotice:t.payload});case L:return Object(j.a)(Object(j.a)({},e),{},{activeNotice:null});case D:return Object(j.a)(Object(j.a)({},e),{},{noticies:{noticeArr:e.noticies.noticeArr.map((function(e){return e.id===t.payload.id?t.payload:e}))}});case M:return Object(j.a)(Object(j.a)({},e),{},{noticies:e.noticies.noticeArr.filter((function(t){return t.id!==e.activeNotice.id})),activeNotice:null});case T:return Object(j.a)(Object(j.a)({},e),{},{noticies:{noticeArr:Object(Me.a)(t.payload.noticies),total_docs:t.payload.total_docs,total_page:t.payload.total_page}});default:return e}}}),mt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||it.c,ht=Object(it.d)(ut,mt(Object(it.a)(rt.a)));var Ot=function(){return Object(V.jsx)(i.a,{store:ht,children:Object(V.jsx)(st,{})})};s.a.render(Object(V.jsx)(Ot,{}),document.getElementById("root"))},41:function(e,t,n){},59:function(e,t,n){},72:function(e,t,n){}},[[165,1,2]]]);
//# sourceMappingURL=main.d51ee7a3.chunk.js.map